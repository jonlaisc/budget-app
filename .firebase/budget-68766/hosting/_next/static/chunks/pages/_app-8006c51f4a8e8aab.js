(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{9669:function(t,e,n){"use strict";n.d(e,{Z:function(){return se}});var r=n(3946),i=n(9013),s=n(3882);function o(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),o=(0,r.Z)(e);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}var a=n(1820);var u=36e5;function c(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),o=(0,r.Z)(e);if(isNaN(o))return new Date(NaN);if(!o)return n;var a=n.getDate(),u=new Date(n.getTime());u.setMonth(n.getMonth()+o+1,0);var c=u.getDate();return a>=c?u:(n.setFullYear(u.getFullYear(),u.getMonth(),a),n)}function l(t,e){(0,s.Z)(2,arguments);var n=(0,r.Z)(e);return c(t,12*n)}function h(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e);return n.getFullYear()-r.getFullYear()}function d(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function f(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e),o=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return 12*o+a}function p(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t);return e.setHours(23,59,59,999),e}function m(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function g(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t);return p(e).getTime()===m(e).getTime()}function y(t,e){(0,s.Z)(2,arguments);var n,r=(0,i.Z)(t),o=(0,i.Z)(e),a=d(r,o),u=Math.abs(f(r,o));if(u<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*u);var c=d(r,o)===-a;g((0,i.Z)(t))&&1===u&&1===d(t,o)&&(c=!1),n=a*(u-Number(c))}return 0===n?0:n}var v={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}};function w(t){return t?v[t]:v.trunc}var b=n(4262);function T(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t);return e.setHours(0,0,0,0),e}var I=864e5;function E(t,e){(0,s.Z)(2,arguments);var n=T(t),r=T(e),i=n.getTime()-(0,b.Z)(n),o=r.getTime()-(0,b.Z)(r);return Math.round((i-o)/I)}function k(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function _(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e),o=k(n,r),a=Math.abs(E(n,r));n.setDate(n.getDate()-o*a);var u=Number(k(n,r)===-o),c=o*(a-u);return 0===c?0:c}Math.pow(10,8);var S=6e4,C=36e5;function A(t,e){return(0,s.Z)(2,arguments),(0,i.Z)(t).getTime()-(0,i.Z)(e).getTime()}function N(t,e){(0,s.Z)(1,arguments);var n=e||{},o=n.locale,a=o&&o.options&&o.options.weekStartsOn,u=null==a?0:(0,r.Z)(a),c=null==n.weekStartsOn?u:(0,r.Z)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,i.Z)(t),h=l.getDay(),d=6+(h<c?-7:0)-(h-c);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}function D(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}var O=n(2912);function R(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e);return n.getTime()>r.getTime()}function x(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e);return n.getTime()<r.getTime()}function M(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t);return e.setMinutes(0,0,0),e}var P=n(7274),L=n(5077),U=n(1218);function F(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var V=n(7621),j=n(5267),q=n(7651);function Z(t,e,n){(0,s.Z)(2,arguments);var o=n||{},a=o.locale,u=a&&a.options&&a.options.weekStartsOn,c=null==u?0:(0,r.Z)(u),l=null==o.weekStartsOn?c:(0,r.Z)(o.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,i.Z)(t),d=(0,r.Z)(e),f=h.getUTCDay(),p=d%7,m=(p+7)%7,g=(m<l?7:0)+d-f;return h.setUTCDate(h.getUTCDate()+g),h}var H=n(3276);var B=n(5230);var z=n(6979),$=n(9025),W=/^(1[0-2]|0?\d)/,G=/^(3[0-1]|[0-2]?\d)/,K=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Y=/^(5[0-3]|[0-4]?\d)/,Q=/^(2[0-3]|[0-1]?\d)/,X=/^(2[0-4]|[0-1]?\d)/,J=/^(1[0-1]|0?\d)/,tt=/^(1[0-2]|0?\d)/,et=/^[0-5]?\d/,nt=/^[0-5]?\d/,rt=/^\d/,it=/^\d{1,2}/,st=/^\d{1,3}/,ot=/^\d{1,4}/,at=/^-?\d+/,ut=/^-?\d/,ct=/^-?\d{1,2}/,lt=/^-?\d{1,3}/,ht=/^-?\d{1,4}/,dt=/^([+-])(\d{2})(\d{2})?|Z/,ft=/^([+-])(\d{2})(\d{2})|Z/,pt=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,mt=/^([+-])(\d{2}):(\d{2})|Z/,gt=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function yt(t,e,n){var r=e.match(t);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:e.slice(r[0].length)}}function vt(t,e){var n=e.match(t);return n?"Z"===n[0]?{value:0,rest:e.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:e.slice(n[0].length)}:null}function wt(t,e){return yt(at,t,e)}function bt(t,e,n){switch(t){case 1:return yt(rt,e,n);case 2:return yt(it,e,n);case 3:return yt(st,e,n);case 4:return yt(ot,e,n);default:return yt(new RegExp("^\\d{1,"+t+"}"),e,n)}}function Tt(t,e,n){switch(t){case 1:return yt(ut,e,n);case 2:return yt(ct,e,n);case 3:return yt(lt,e,n);case 4:return yt(ht,e,n);default:return yt(new RegExp("^-?\\d{1,"+t+"}"),e,n)}}function It(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Et(t,e){var n,r=e>0,i=r?e:1-e;if(i<=50)n=t||100;else{var s=i+50;n=t+100*Math.floor(s/100)-(t>=s%100?100:0)}return r?n:1-n}var kt=[31,28,31,30,31,30,31,31,30,31,30,31],_t=[31,29,31,30,31,30,31,31,30,31,30,31];function St(t){return t%400===0||t%4===0&&t%100!==0}var Ct={G:{priority:140,parse:function(t,e,n,r){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}},set:function(t,e,n,r){return e.era=n,t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,n,r){var i=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return bt(4,t,i);case"yo":return n.ordinalNumber(t,{unit:"year",valueCallback:i});default:return bt(e.length,t,i)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,r){var i=t.getUTCFullYear();if(n.isTwoDigitYear){var s=Et(n.year,i);return t.setUTCFullYear(s,0,1),t.setUTCHours(0,0,0,0),t}var o="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(o,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,n,r){var i=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return bt(4,t,i);case"Yo":return n.ordinalNumber(t,{unit:"year",valueCallback:i});default:return bt(e.length,t,i)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,r){var i=(0,q.Z)(t,r);if(n.isTwoDigitYear){var s=Et(n.year,i);return t.setUTCFullYear(s,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0),(0,$.Z)(t,r)}var o="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(o,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0),(0,$.Z)(t,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,n,r){return Tt("R"===e?4:e.length,t)},set:function(t,e,n,r){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),(0,z.Z)(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,n,r){return Tt("u"===e?4:e.length,t)},set:function(t,e,n,r){return t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,n,r){switch(e){case"Q":case"QQ":return bt(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,r){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,n,r){switch(e){case"q":case"qq":return bt(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,r){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,n,r){var i=function(t){return t-1};switch(e){case"M":return yt(W,t,i);case"MM":return bt(2,t,i);case"Mo":return n.ordinalNumber(t,{unit:"month",valueCallback:i});case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,r){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,n,r){var i=function(t){return t-1};switch(e){case"L":return yt(W,t,i);case"LL":return bt(2,t,i);case"Lo":return n.ordinalNumber(t,{unit:"month",valueCallback:i});case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,r){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,n,r){switch(e){case"w":return yt(Y,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return bt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,o){return(0,$.Z)(function(t,e,n){(0,s.Z)(2,arguments);var o=(0,i.Z)(t),a=(0,r.Z)(e),u=(0,B.Z)(o,n)-a;return o.setUTCDate(o.getUTCDate()-7*u),o}(t,n,o),o)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,n,r){switch(e){case"I":return yt(Y,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return bt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,o){return(0,z.Z)(function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),o=(0,r.Z)(e),a=(0,H.Z)(n)-o;return n.setUTCDate(n.getUTCDate()-7*a),n}(t,n,o),o)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,n,r){switch(e){case"d":return yt(G,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return bt(e.length,t)}},validate:function(t,e,n){var r=St(t.getUTCFullYear()),i=t.getUTCMonth();return r?e>=1&&e<=_t[i]:e>=1&&e<=kt[i]},set:function(t,e,n,r){return t.setUTCDate(n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,n,r){switch(e){case"D":case"DD":return yt(K,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return bt(e.length,t)}},validate:function(t,e,n){return St(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,n,r){return t.setUTCMonth(0,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,n,r){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,r){return(t=Z(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,n,r){var i=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return bt(e.length,t,i);case"eo":return n.ordinalNumber(t,{unit:"day",valueCallback:i});case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,r){return(t=Z(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,n,r){var i=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return bt(e.length,t,i);case"co":return n.ordinalNumber(t,{unit:"day",valueCallback:i});case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,r){return(t=Z(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,n,r){var i=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return bt(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return n.day(t,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(t,{width:"short",context:"formatting",valueCallback:i})||n.day(t,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(t,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(t,{width:"short",context:"formatting",valueCallback:i})||n.day(t,{width:"narrow",context:"formatting",valueCallback:i});default:return n.day(t,{width:"wide",context:"formatting",valueCallback:i})||n.day(t,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(t,{width:"short",context:"formatting",valueCallback:i})||n.day(t,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(t,e,n){return e>=1&&e<=7},set:function(t,e,n,o){return t=function(t,e){(0,s.Z)(2,arguments);var n=(0,r.Z)(e);n%7===0&&(n-=7);var o=1,a=(0,i.Z)(t),u=a.getUTCDay(),c=((n%7+7)%7<o?7:0)+n-u;return a.setUTCDate(a.getUTCDate()+c),a}(t,n,o),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,n,r){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(It(n),0,0,0),t},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(t,e,n,r){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(It(n),0,0,0),t},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(t,e,n,r){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(It(n),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,n,r){switch(e){case"h":return yt(tt,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return bt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=12},set:function(t,e,n,r){var i=t.getUTCHours()>=12;return i&&n<12?t.setUTCHours(n+12,0,0,0):i||12!==n?t.setUTCHours(n,0,0,0):t.setUTCHours(0,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,n,r){switch(e){case"H":return yt(Q,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return bt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=23},set:function(t,e,n,r){return t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,n,r){switch(e){case"K":return yt(J,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return bt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,r){return t.getUTCHours()>=12&&n<12?t.setUTCHours(n+12,0,0,0):t.setUTCHours(n,0,0,0),t},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(t,e,n,r){switch(e){case"k":return yt(X,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return bt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=24},set:function(t,e,n,r){var i=n<=24?n%24:n;return t.setUTCHours(i,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,n,r){switch(e){case"m":return yt(et,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return bt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,r){return t.setUTCMinutes(n,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,n,r){switch(e){case"s":return yt(nt,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return bt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,r){return t.setUTCSeconds(n,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,n,r){return bt(e.length,t,(function(t){return Math.floor(t*Math.pow(10,3-e.length))}))},set:function(t,e,n,r){return t.setUTCMilliseconds(n),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,n,r){switch(e){case"X":return vt(dt,t);case"XX":return vt(ft,t);case"XXXX":return vt(pt,t);case"XXXXX":return vt(gt,t);default:return vt(mt,t)}},set:function(t,e,n,r){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,n,r){switch(e){case"x":return vt(dt,t);case"xx":return vt(ft,t);case"xxxx":return vt(pt,t);case"xxxxx":return vt(gt,t);default:return vt(mt,t)}},set:function(t,e,n,r){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,n,r){return wt(t)},set:function(t,e,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,n,r){return wt(t)},set:function(t,e,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},At=Ct,Nt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ot=/^'([^]*?)'?$/,Rt=/''/g,xt=/\S/,Mt=/[a-zA-Z]/;function Pt(t,e){if(e.timestampIsSet)return t;var n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),n}function Lt(t){return t.match(Ot)[1].replace(Rt,"'")}function Ut(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t),n=e.getFullYear(),r=e.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function Ft(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t),n=e.getDay();return n}function Vt(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t);return e.setDate(1),e.setHours(0,0,0,0),e}function jt(t,e){(0,s.Z)(1,arguments);var n=e||{},o=n.locale,a=o&&o.options&&o.options.weekStartsOn,u=null==a?0:(0,r.Z)(a),c=null==n.weekStartsOn?u:(0,r.Z)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,i.Z)(t),h=l.getDay(),d=(h<c?7:0)+h-c;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function qt(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}var Zt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ht=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Bt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $t(t){var e,n={},r=t.split(Zt.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?e=r[0]:(n.date=r[0],e=r[1],Zt.timeZoneDelimiter.test(n.date)&&(n.date=t.split(Zt.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length))),e){var i=Zt.timezone.exec(e);i?(n.time=e.replace(i[1],""),n.timezone=i[1]):n.time=e}return n}function Wt(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?i:100*s,restDateString:t.slice((r[1]||r[2]).length)}}function Gt(t,e){if(null===e)return new Date(NaN);var n=t.match(Ht);if(!n)return new Date(NaN);var r=!!n[4],i=Kt(n[1]),s=Kt(n[2])-1,o=Kt(n[3]),a=Kt(n[4]),u=Kt(n[5])-1;if(r)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,a,u)?function(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=7*(e-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}(e,a,u):new Date(NaN);var c=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Jt[e]||(te(t)?29:28))}(e,s,o)&&function(t,e){return e>=1&&e<=(te(t)?366:365)}(e,i)?(c.setUTCFullYear(e,s,Math.max(i,o)),c):new Date(NaN)}function Kt(t){return t?parseInt(t):1}function Yt(t){var e=t.match(Bt);if(!e)return NaN;var n=Qt(e[1]),r=Qt(e[2]),i=Qt(e[3]);return function(t,e,n){if(24===t)return 0===e&&0===n;return n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,r,i)?n*C+r*S+1e3*i:NaN}function Qt(t){return t&&parseFloat(t.replace(",","."))||0}function Xt(t){if("Z"===t)return 0;var e=t.match(zt);if(!e)return 0;var n="+"===e[1]?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return function(t,e){return e>=0&&e<=59}(0,i)?n*(r*C+i*S):NaN}var Jt=[31,null,31,30,31,30,31,31,30,31,30,31];function te(t){return t%400===0||t%4===0&&t%100!==0}var ee=n(4810);var ne=n(5209),re=n.n(ne),ie={dayOfMonth:"d",fullDate:"PP",fullDateWithWeekday:"PPPP",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aaa",fullDateTime24h:"PP HH:mm",fullTime:"p",fullTime12h:"hh:mm aaa",fullTime24h:"HH:mm",hours12h:"hh",hours24h:"HH",keyboardDate:"P",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aaa",keyboardDateTime24h:"P HH:mm",minutes:"mm",month:"LLLL",monthAndDate:"MMMM d",monthAndYear:"LLLL yyyy",monthShort:"MMM",weekday:"EEEE",weekdayShort:"EEE",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",seconds:"ss",shortDate:"MMM d",year:"yyyy"},se=function(t){var e=this,n=void 0===t?{}:t,f=n.locale,g=n.formats;this.lib="date-fns",this.is12HourCycleInCurrentLocale=function(){return!e.locale||/a/.test(e.locale.formatLong.time())},this.getFormatHelperText=function(t){var n=e.locale||L.Z;return t.match(/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,re()[e])(t,n.formatLong,{}):t})).join("").replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase()},this.parseISO=function(t){return function(t,e){(0,s.Z)(1,arguments);var n=e||{},i=null==n.additionalDigits?2:(0,r.Z)(n.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var o,a=$t(t);if(a.date){var u=Wt(a.date,i);o=Gt(u.restDateString,u.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var c,l=o.getTime(),h=0;if(a.time&&(h=Yt(a.time),isNaN(h)))return new Date(NaN);if(!a.timezone){var d=new Date(l+h),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return c=Xt(a.timezone),isNaN(c)?new Date(NaN):new Date(l+h+c)}(t)},this.toISO=function(t){return function(t,e){(0,s.Z)(1,arguments);var n=(0,i.Z)(t);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");var r=null!==e&&void 0!==e&&e.format?String(e.format):"extended",o=null!==e&&void 0!==e&&e.representation?String(e.representation):"complete";if("extended"!==r&&"basic"!==r)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==o&&"time"!==o&&"complete"!==o)throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",u="",c="extended"===r?"-":"",l="extended"===r?":":"";if("time"!==o){var h=(0,ee.Z)(n.getDate(),2),d=(0,ee.Z)(n.getMonth()+1,2),f=(0,ee.Z)(n.getFullYear(),4);a="".concat(f).concat(c).concat(d).concat(c).concat(h)}if("date"!==o){var p=n.getTimezoneOffset();if(0!==p){var m=Math.abs(p),g=(0,ee.Z)(Math.floor(m/60),2),y=(0,ee.Z)(m%60,2);u="".concat(p<0?"+":"-").concat(g,":").concat(y)}else u="Z";var v=""===a?"":"T",w=[(0,ee.Z)(n.getHours(),2),(0,ee.Z)(n.getMinutes(),2),(0,ee.Z)(n.getSeconds(),2)].join(l);a="".concat(a).concat(v).concat(w).concat(u)}return a}(t,{format:"extended"})},this.getCurrentLocaleCode=function(){var t;return(null===(t=e.locale)||void 0===t?void 0:t.code)||"en-US"},this.addSeconds=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,r.Z)(e);return(0,a.Z)(t,1e3*n)}(t,e)},this.addMinutes=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,r.Z)(e);return(0,a.Z)(t,6e4*n)}(t,e)},this.addHours=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,r.Z)(e);return(0,a.Z)(t,n*u)}(t,e)},this.addDays=function(t,e){return o(t,e)},this.addWeeks=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,r.Z)(e);return o(t,7*n)}(t,e)},this.addMonths=function(t,e){return c(t,e)},this.isValid=function(t){return(0,P.Z)(e.date(t))},this.getDiff=function(t,n,r){switch(r){case"years":return function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e),o=d(n,r),a=Math.abs(h(n,r));n.setFullYear(1584),r.setFullYear(1584);var u=d(n,r)===-o,c=o*(a-Number(u));return 0===c?0:c}(t,e.date(n));case"quarters":return function(t,e,n){(0,s.Z)(2,arguments);var r=y(t,e)/3;return w(null===n||void 0===n?void 0:n.roundingMethod)(r)}(t,e.date(n));case"months":return y(t,e.date(n));case"weeks":return function(t,e,n){(0,s.Z)(2,arguments);var r=_(t,e)/7;return w(null===n||void 0===n?void 0:n.roundingMethod)(r)}(t,e.date(n));case"days":return _(t,e.date(n));case"hours":return function(t,e,n){(0,s.Z)(2,arguments);var r=A(t,e)/C;return w(null===n||void 0===n?void 0:n.roundingMethod)(r)}(t,e.date(n));case"minutes":return function(t,e,n){(0,s.Z)(2,arguments);var r=A(t,e)/S;return w(null===n||void 0===n?void 0:n.roundingMethod)(r)}(t,e.date(n));case"seconds":return function(t,e,n){(0,s.Z)(2,arguments);var r=A(t,e)/1e3;return w(null===n||void 0===n?void 0:n.roundingMethod)(r)}(t,e.date(n));default:return A(t,e.date(n))}},this.isAfter=function(t,e){return R(t,e)},this.isBefore=function(t,e){return x(t,e)},this.startOfDay=function(t){return T(t)},this.endOfDay=function(t){return p(t)},this.getHours=function(t){return function(t){return(0,s.Z)(1,arguments),(0,i.Z)(t).getHours()}(t)},this.setHours=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),o=(0,r.Z)(e);return n.setHours(o),n}(t,e)},this.setMinutes=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),o=(0,r.Z)(e);return n.setMinutes(o),n}(t,e)},this.getSeconds=function(t){return function(t){return(0,s.Z)(1,arguments),(0,i.Z)(t).getSeconds()}(t)},this.setSeconds=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),o=(0,r.Z)(e);return n.setSeconds(o),n}(t,e)},this.isSameDay=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=T(t),r=T(e);return n.getTime()===r.getTime()}(t,e)},this.isSameMonth=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(t,e)},this.isSameYear=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e);return n.getFullYear()===r.getFullYear()}(t,e)},this.isSameHour=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=M(t),r=M(e);return n.getTime()===r.getTime()}(t,e)},this.startOfMonth=function(t){return Vt(t)},this.endOfMonth=function(t){return m(t)},this.startOfWeek=function(t){return jt(t,{locale:e.locale})},this.endOfWeek=function(t){return N(t,{locale:e.locale})},this.getYear=function(t){return function(t){return(0,s.Z)(1,arguments),(0,i.Z)(t).getFullYear()}(t)},this.setYear=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),o=(0,r.Z)(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(o),n)}(t,e)},this.date=function(t){return"undefined"===typeof t?new Date:null===t?null:new Date(t)},this.toJsDate=function(t){return t},this.parse=function(t,n){return""===t?null:function(t,e,n,o){(0,s.Z)(3,arguments);var a=String(t),u=String(e),c=o||{},l=c.locale||L.Z;if(!l.match)throw new RangeError("locale must contain match property");var h=l.options&&l.options.firstWeekContainsDate,d=null==h?1:(0,r.Z)(h),f=null==c.firstWeekContainsDate?d:(0,r.Z)(c.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=l.options&&l.options.weekStartsOn,m=null==p?0:(0,r.Z)(p),g=null==c.weekStartsOn?m:(0,r.Z)(c.weekStartsOn);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===u)return""===a?(0,i.Z)(n):new Date(NaN);var y,v={firstWeekContainsDate:f,weekStartsOn:g,locale:l},w=[{priority:10,subPriority:-1,set:Pt,index:0}],T=u.match(Dt).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,V.Z[e])(t,l.formatLong,v):t})).join("").match(Nt),I=[];for(y=0;y<T.length;y++){var E=T[y];!c.useAdditionalWeekYearTokens&&(0,j.Do)(E)&&(0,j.qp)(E,u,t),!c.useAdditionalDayOfYearTokens&&(0,j.Iu)(E)&&(0,j.qp)(E,u,t);var k=E[0],_=At[k];if(_){var S=_.incompatibleTokens;if(Array.isArray(S)){for(var C=void 0,A=0;A<I.length;A++){var N=I[A].token;if(-1!==S.indexOf(N)||N===k){C=I[A];break}}if(C)throw new RangeError("The format string mustn't contain `".concat(C.fullToken,"` and `").concat(E,"` at the same time"))}else if("*"===_.incompatibleTokens&&I.length)throw new RangeError("The format string mustn't contain `".concat(E,"` and any other token at the same time"));I.push({token:k,fullToken:E});var D=_.parse(a,E,l.match,v);if(!D)return new Date(NaN);w.push({priority:_.priority,subPriority:_.subPriority||0,set:_.set,validate:_.validate,value:D.value,index:w.length}),a=D.rest}else{if(k.match(Mt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if("''"===E?E="'":"'"===k&&(E=Lt(E)),0!==a.indexOf(E))return new Date(NaN);a=a.slice(E.length)}}if(a.length>0&&xt.test(a))return new Date(NaN);var O=w.map((function(t){return t.priority})).sort((function(t,e){return e-t})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(t){return w.filter((function(e){return e.priority===t})).sort((function(t,e){return e.subPriority-t.subPriority}))})).map((function(t){return t[0]})),R=(0,i.Z)(n);if(isNaN(R))return new Date(NaN);var x=(0,U.Z)(R,(0,b.Z)(R)),M={};for(y=0;y<O.length;y++){var P=O[y];if(P.validate&&!P.validate(x,P.value,v))return new Date(NaN);var q=P.set(x,M,P.value,v);q[0]?(x=q[0],F(M,q[1])):x=q}return x}(t,n,new Date,{locale:e.locale})},this.format=function(t,n){return e.formatByString(t,e.formats[n])},this.formatByString=function(t,n){return(0,O.Z)(t,n,{locale:e.locale})},this.isEqual=function(t,e){return null===t&&null===e||function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),r=(0,i.Z)(e);return n.getTime()===r.getTime()}(t,e)},this.isNull=function(t){return null===t},this.isAfterDay=function(t,e){return R(t,p(e))},this.isBeforeDay=function(t,e){return x(t,T(e))},this.isBeforeYear=function(t,e){return x(t,qt(e))},this.isAfterYear=function(t,e){return R(t,D(e))},this.isWithinRange=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t).getTime(),r=(0,i.Z)(e.start).getTime(),o=(0,i.Z)(e.end).getTime();if(!(r<=o))throw new RangeError("Invalid interval");return n>=r&&n<=o}(t,{start:e[0],end:e[1]})},this.formatNumber=function(t){return t},this.getMinutes=function(t){return t.getMinutes()},this.getMonth=function(t){return t.getMonth()},this.getDaysInMonth=function(t){return Ut(t)},this.setMonth=function(t,e){return function(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t),o=(0,r.Z)(e),a=n.getFullYear(),u=n.getDate(),c=new Date(0);c.setFullYear(a,o,15),c.setHours(0,0,0,0);var l=Ut(c);return n.setMonth(o,Math.min(u,l)),n}(t,e)},this.getMeridiemText=function(t){return"am"===t?"AM":"PM"},this.getNextMonth=function(t){return c(t,1)},this.getPreviousMonth=function(t){return c(t,-1)},this.getMonthArray=function(t){for(var n=[qt(t)];n.length<12;){var r=n[n.length-1];n.push(e.getNextMonth(r))}return n},this.mergeDateAndTime=function(t,n){return e.setSeconds(e.setMinutes(e.setHours(t,e.getHours(n)),e.getMinutes(n)),e.getSeconds(n))},this.getWeekdays=function(){var t=new Date;return function(t,e){(0,s.Z)(1,arguments);var n=t||{},r=(0,i.Z)(n.start),o=(0,i.Z)(n.end).getTime();if(!(r.getTime()<=o))throw new RangeError("Invalid interval");var a=[],u=r;u.setHours(0,0,0,0);var c=e&&"step"in e?Number(e.step):1;if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=o;)a.push((0,i.Z)(u)),u.setDate(u.getDate()+c),u.setHours(0,0,0,0);return a}({start:jt(t,{locale:e.locale}),end:N(t,{locale:e.locale})}).map((function(t){return e.formatByString(t,"EEEEEE")}))},this.getWeekArray=function(t){for(var n=jt(Vt(t),{locale:e.locale}),r=N(m(t),{locale:e.locale}),i=0,s=n,a=[],u=null;x(s,r);){var c=Math.floor(i/7);a[c]=a[c]||[];var l=Ft(s);u!==l&&(u=l,a[c].push(s),i+=1),s=o(s,1)}return a},this.getYearRange=function(t,e){for(var n=qt(t),r=D(e),i=[],s=n;x(s,r);)i.push(s),s=l(s,1);return i},this.locale=f,this.formats=Object.assign({},ie,g)}},8357:function(t,e,n){"use strict";n.d(e,{Z:function(){return it}});var r=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(r){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),i=Math.abs,s=String.fromCharCode,o=Object.assign;function a(t){return t.trim()}function u(t,e,n){return t.replace(e,n)}function c(t,e){return t.indexOf(e)}function l(t,e){return 0|t.charCodeAt(e)}function h(t,e,n){return t.slice(e,n)}function d(t){return t.length}function f(t){return t.length}function p(t,e){return e.push(t),t}var m=1,g=1,y=0,v=0,w=0,b="";function T(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:m,column:g,length:o,return:""}}function I(t,e){return o(T("",null,null,"",null,null,0),t,{length:-t.length},e)}function E(){return w=v>0?l(b,--v):0,g--,10===w&&(g=1,m--),w}function k(){return w=v<y?l(b,v++):0,g++,10===w&&(g=1,m++),w}function _(){return l(b,v)}function S(){return v}function C(t,e){return h(b,t,e)}function A(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(t){return m=g=1,y=d(b=t),v=0,[]}function D(t){return b="",t}function O(t){return a(C(v-1,M(91===t?t+2:40===t?t+1:t)))}function R(t){for(;(w=_())&&w<33;)k();return A(t)>2||A(w)>3?"":" "}function x(t,e){for(;--e&&k()&&!(w<48||w>102||w>57&&w<65||w>70&&w<97););return C(t,S()+(e<6&&32==_()&&32==k()))}function M(t){for(;k();)switch(w){case t:return v;case 34:case 39:34!==t&&39!==t&&M(w);break;case 40:41===t&&M(t);break;case 92:k()}return v}function P(t,e){for(;k()&&t+w!==57&&(t+w!==84||47!==_()););return"/*"+C(e,v-1)+"*"+s(47===t?t:k())}function L(t){for(;!A(_());)k();return C(t,v)}var U="-ms-",F="-moz-",V="-webkit-",j="comm",q="rule",Z="decl",H="@keyframes";function B(t,e){for(var n="",r=f(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function z(t,e,n,r){switch(t.type){case"@import":case Z:return t.return=t.return||t.value;case j:return"";case H:return t.return=t.value+"{"+B(t.children,r)+"}";case q:t.value=t.props.join(",")}return d(n=B(t.children,r))?t.return=t.value+"{"+n+"}":""}function $(t,e){switch(function(t,e){return(((e<<2^l(t,0))<<2^l(t,1))<<2^l(t,2))<<2^l(t,3)}(t,e)){case 5103:return V+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return V+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return V+t+F+t+U+t+t;case 6828:case 4268:return V+t+U+t+t;case 6165:return V+t+U+"flex-"+t+t;case 5187:return V+t+u(t,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+t;case 5443:return V+t+U+"flex-item-"+u(t,/flex-|-self/,"")+t;case 4675:return V+t+U+"flex-line-pack"+u(t,/align-content|flex-|-self/,"")+t;case 5548:return V+t+U+u(t,"shrink","negative")+t;case 5292:return V+t+U+u(t,"basis","preferred-size")+t;case 6060:return V+"box-"+u(t,"-grow","")+V+t+U+u(t,"grow","positive")+t;case 4554:return V+u(t,/([^-])(transform)/g,"$1-webkit-$2")+t;case 6187:return u(u(u(t,/(zoom-|grab)/,V+"$1"),/(image-set)/,V+"$1"),t,"")+t;case 5495:case 3959:return u(t,/(image-set\([^]*)/,V+"$1$`$1");case 4968:return u(u(t,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+V+t+t;case 4095:case 3583:case 4068:case 2532:return u(t,/(.+)-inline(.+)/,V+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(t)-1-e>6)switch(l(t,e+1)){case 109:if(45!==l(t,e+4))break;case 102:return u(t,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+F+(108==l(t,e+3)?"$3":"$2-$3"))+t;case 115:return~c(t,"stretch")?$(u(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==l(t,e+1))break;case 6444:switch(l(t,d(t)-3-(~c(t,"!important")&&10))){case 107:return u(t,":",":"+V)+t;case 101:return u(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+V+(45===l(t,14)?"inline-":"")+"box$3$1"+V+"$2$3$1"+U+"$2box$3")+t}break;case 5936:switch(l(t,e+11)){case 114:return V+t+U+u(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return V+t+U+u(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return V+t+U+u(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return V+t+U+t+t}return t}function W(t){return D(G("",null,null,null,[""],t=N(t),0,[0],t))}function G(t,e,n,r,i,o,a,l,h){for(var f=0,m=0,g=a,y=0,v=0,w=0,b=1,T=1,I=1,C=0,A="",N=i,D=o,M=r,U=A;T;)switch(w=C,C=k()){case 40:if(108!=w&&58==U.charCodeAt(g-1)){-1!=c(U+=u(O(C),"&","&\f"),"&\f")&&(I=-1);break}case 34:case 39:case 91:U+=O(C);break;case 9:case 10:case 13:case 32:U+=R(w);break;case 92:U+=x(S()-1,7);continue;case 47:switch(_()){case 42:case 47:p(Y(P(k(),S()),e,n),h);break;default:U+="/"}break;case 123*b:l[f++]=d(U)*I;case 125*b:case 59:case 0:switch(C){case 0:case 125:T=0;case 59+m:v>0&&d(U)-g&&p(v>32?Q(U+";",r,n,g-1):Q(u(U," ","")+";",r,n,g-2),h);break;case 59:U+=";";default:if(p(M=K(U,e,n,f,m,i,l,A,N=[],D=[],g),o),123===C)if(0===m)G(U,e,M,M,N,o,g,l,D);else switch(y){case 100:case 109:case 115:G(t,M,M,r&&p(K(t,M,M,0,0,i,l,A,i,N=[],g),D),i,D,g,l,r?N:D);break;default:G(U,M,M,M,[""],D,0,l,D)}}f=m=v=0,b=I=1,A=U="",g=a;break;case 58:g=1+d(U),v=w;default:if(b<1)if(123==C)--b;else if(125==C&&0==b++&&125==E())continue;switch(U+=s(C),C*b){case 38:I=m>0?1:(U+="\f",-1);break;case 44:l[f++]=(d(U)-1)*I,I=1;break;case 64:45===_()&&(U+=O(k())),y=_(),m=g=d(A=U+=L(S())),C++;break;case 45:45===w&&2==d(U)&&(b=0)}}return o}function K(t,e,n,r,s,o,c,l,d,p,m){for(var g=s-1,y=0===s?o:[""],v=f(y),w=0,b=0,I=0;w<r;++w)for(var E=0,k=h(t,g+1,g=i(b=c[w])),_=t;E<v;++E)(_=a(b>0?y[E]+" "+k:u(k,/&\f/g,y[E])))&&(d[I++]=_);return T(t,e,n,0===s?q:l,d,p,m)}function Y(t,e,n){return T(t,e,n,j,s(w),h(t,2,-2),0)}function Q(t,e,n,r){return T(t,e,n,Z,h(t,0,r),h(t,r+1,-1),r)}var X=function(t,e,n){for(var r=0,i=0;r=i,i=_(),38===r&&12===i&&(e[n]=1),!A(i);)k();return C(t,v)},J=function(t,e){return D(function(t,e){var n=-1,r=44;do{switch(A(r)){case 0:38===r&&12===_()&&(e[n]=1),t[n]+=X(v-1,e,n);break;case 2:t[n]+=O(r);break;case 4:if(44===r){t[++n]=58===_()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=s(r)}}while(r=k());return t}(N(t),e))},tt=new WeakMap,et=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||tt.get(n))&&!r){tt.set(t,!0);for(var i=[],s=J(e,i),o=n.props,a=0,u=0;a<s.length;a++)for(var c=0;c<o.length;c++,u++)t.props[u]=i[a]?s[a].replace(/&\f/g,o[c]):o[c]+" "+s[a]}}},nt=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},rt=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Z:t.return=$(t.value,t.length);break;case H:return B([I(t,{value:u(t.value,"@","@"+V)})],r);case q:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return B([I(t,{props:[u(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return B([I(t,{props:[u(e,/:(plac\w+)/,":-webkit-input-$1")]}),I(t,{props:[u(e,/:(plac\w+)/,":-moz-$1")]}),I(t,{props:[u(e,/:(plac\w+)/,U+"input-$1")]})],r)}return""}))}}],it=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i=t.stylisPlugins||rt;var s,o,a={},u=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;u.push(t)}));var c,l,h=[z,(l=function(t){c.insert(t)},function(t){t.root||(t=t.return)&&l(t)})],d=function(t){var e=f(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}([et,nt].concat(i,h));o=function(t,e,n,r){c=n,B(W(t?t+"{"+e.styles+"}":e.styles),d),r&&(p.inserted[e.name]=!0)};var p={key:e,sheet:new r({key:e,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:o};return p.sheet.hydrate(u),p}},7866:function(t,e){"use strict";e.Z=function(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}},4880:function(t,e,n){"use strict";var r;n.d(e,{T:function(){return u},w:function(){return a}});var i=n(7294),s=n(8357),o=(n(3772),(0,i.createContext)("undefined"!==typeof HTMLElement?(0,s.Z)({key:"css"}):null));o.Provider;var a=function(t){return(0,i.forwardRef)((function(e,n){var r=(0,i.useContext)(o);return t(e,r,n)}))},u=(0,i.createContext)({});(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect},3772:function(t,e,n){"use strict";n.d(e,{O:function(){return m}});var r=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},s=n(7866),o=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(t){return 45===t.charCodeAt(1)},c=function(t){return null!=t&&"boolean"!==typeof t},l=(0,s.Z)((function(t){return u(t)?t:t.replace(o,"-$&").toLowerCase()})),h=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(a,(function(t,e,n){return f={name:e,styles:n,next:f},e}))}return 1===i[t]||u(t)||"number"!==typeof e||0===e?e:e+"px"};function d(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)f={name:r.name,styles:r.styles,next:f},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(t,e,n[i])+";";else for(var s in n){var o=n[s];if("object"!==typeof o)null!=e&&void 0!==e[o]?r+=s+"{"+e[o]+"}":c(o)&&(r+=l(s)+":"+h(s,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=e&&void 0!==e[o[0]]){var a=d(t,e,o);switch(s){case"animation":case"animationName":r+=l(s)+":"+a+";";break;default:r+=s+"{"+a+"}"}}else for(var u=0;u<o.length;u++)c(o[u])&&(r+=l(s)+":"+h(s,o[u])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=f,s=n(t);return f=i,d(t,e,s)}}if(null==e)return n;var o=e[n];return void 0!==o?o:n}var f,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var m=function(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i=!0,s="";f=void 0;var o=t[0];null==o||void 0===o.raw?(i=!1,s+=d(n,e,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=d(n,e,t[a]),i&&(s+=o[a]);p.lastIndex=0;for(var u,c="";null!==(u=p.exec(s));)c+="-"+u[1];return{name:r(s)+c,styles:s,next:f}}},4258:function(t,e,n){"use strict";n.r(e),n.d(e,{FirebaseError:function(){return s.ZR},SDK_VERSION:function(){return E},_DEFAULT_ENTRY_NAME:function(){return l},_addComponent:function(){return p},_addOrOverwriteComponent:function(){return m},_apps:function(){return d},_clearComponents:function(){return w},_components:function(){return f},_getProvider:function(){return y},_registerComponent:function(){return g},_removeServiceInstance:function(){return v},deleteApp:function(){return C},getApp:function(){return _},getApps:function(){return S},initializeApp:function(){return k},onLog:function(){return N},registerVersion:function(){return A},setLogLevel:function(){return D}});var r=n(909),i=n(6934),s=n(4444);class o{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const a="@firebase/app",u="0.7.4",c=new i.Yd("@firebase/app"),l="[DEFAULT]",h={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(t,e){try{t.container.addComponent(e)}catch(n){c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function m(t,e){t.container.addOrOverwriteComponent(e)}function g(t){const e=t.name;if(f.has(e))return c.debug(`There were multiple attempts to register component ${e}.`),!1;f.set(e,t);for(const n of d.values())p(n,t);return!0}function y(t,e){return t.container.getProvider(e)}function v(t,e,n=l){y(t,e).clearInstance(n)}function w(){f.clear()}const b={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."},T=new s.LL("app","Firebase",b);class I{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw T.create("app-deleted",{appName:this._name})}}const E="9.1.3";function k(t,e={}){if("object"!==typeof e){e={name:e}}const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!==typeof i||!i)throw T.create("bad-app-name",{appName:String(i)});const o=d.get(i);if(o){if((0,s.vZ)(t,o.options)&&(0,s.vZ)(n,o.config))return o;throw T.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of f.values())a.addComponent(r);const u=new I(t,n,a);return d.set(i,u),u}function _(t=l){const e=d.get(t);if(!e)throw T.create("no-app",{appName:t});return e}function S(){return Array.from(d.values())}async function C(t){const e=t.name;d.has(e)&&(d.delete(e),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function A(t,e,n){var i;let s=null!==(i=h[t])&&void 0!==i?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void c.warn(t.join(" "))}g(new r.wA(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}function N(t,e){if(null!==t&&"function"!==typeof t)throw T.create("invalid-log-argument");(0,i.Am)(t,e)}function D(t){(0,i.Ub)(t)}var O;O="",g(new r.wA("platform-logger",(t=>new o(t)),"PRIVATE")),A(a,u,O),A(a,u,"esm2017"),A("fire-js","")},6422:function(t,e,n){"use strict";n.d(e,{$:function(){return re},A:function(){return c},E:function(){return gt},G:function(){return wt},I:function(){return _t},K:function(){return X},L:function(){return Nt},M:function(){return xt},N:function(){return Mt},P:function(){return Tn},Q:function(){return Pt},R:function(){return pn},T:function(){return Rt},V:function(){return Ut},W:function(){return qt},X:function(){return Yt},Y:function(){return Qt},Z:function(){return Xt},_:function(){return Jt},a:function(){return je},a0:function(){return ie},a1:function(){return se},a2:function(){return oe},a3:function(){return ae},a4:function(){return ue},a5:function(){return ce},a6:function(){return le},a7:function(){return he},a8:function(){return de},a9:function(){return fe},aA:function(){return Hn},aB:function(){return Ln},aC:function(){return pt},aG:function(){return Ze},aJ:function(){return Lt},aa:function(){return pe},ab:function(){return me},ae:function(){return ge},af:function(){return ye},ag:function(){return ve},aj:function(){return zt},ak:function(){return Se},am:function(){return Oe},an:function(){return Me},ao:function(){return lt},ap:function(){return E},aq:function(){return ct},ar:function(){return ot},as:function(){return g},at:function(){return hr},au:function(){return Gn},av:function(){return y},aw:function(){return T},ax:function(){return _},ay:function(){return J},az:function(){return zn},b:function(){return Fe},c:function(){return Nn},d:function(){return On},e:function(){return Dn},f:function(){return Vn},g:function(){return qn},h:function(){return jn},i:function(){return en},j:function(){return Zn},k:function(){return fr},l:function(){return yn},m:function(){return mr},n:function(){return br},o:function(){return u},r:function(){return vn},s:function(){return gn},t:function(){return Ce},u:function(){return bn},x:function(){return Ae},z:function(){return h}});var r=n(4444),i=n(4258),s=n(7582),o=n(6934),a=n(909);const u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},c={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},d=l,f=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new o.Yd("@firebase/auth");function m(t,...e){p.logLevel<=o.in.ERROR&&p.error(`Auth (${i.SDK_VERSION}): ${t}`,...e)}function g(t,...e){throw b(t,...e)}function y(t,...e){return b(t,...e)}function v(t,e,n){const i=Object.assign(Object.assign({},d()),{[e]:n});return new r.LL("auth","Firebase",i).create(e,{appName:t.name})}function w(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&g(t,"argument-error"),v(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function b(t,...e){if("string"!==typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f.create(t,...e)}function T(t,e,...n){if(!t)throw b(e,...n)}function I(t){const e="INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function E(t,e){t||I(e)}const k=new Map;function _(t){E(t instanceof Function,"Expected a class definition");let e=k.get(t);return e?(E(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k.set(t,e),e)}function S(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function C(){return"http:"===A()||"https:"===A()}function A(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class N{constructor(t,e){this.shortDelay=t,this.longDelay=e,E(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function D(t,e){E(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class O{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void I("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void I("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void I("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},x=new N(3e4,6e4);function M(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function P(t,e,n,i,s={}){return L(t,s,(()=>{let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(O.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),O.fetch()(F(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}async function L(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},R),e);try{const e=new V(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw j(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw j(t,"email-already-in-use",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw v(t,a,o);g(t,a)}}catch(s){if(s instanceof r.ZR)throw s;g(t,"network-request-failed")}}async function U(t,e,n,r,i={}){const s=await P(t,e,n,r,i);return"mfaPendingCredential"in s&&g(t,"multi-factor-auth-required",{serverResponse:s}),s}function F(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?D(t.config,i):`${t.config.apiScheme}://${i}`}class V{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(y(this.auth,"timeout"))),x.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=y(t,e,r);return i.customData._tokenResponse=n,i}function q(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Z(t){return 1e3*Number(t)}function H(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return m("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,r.tV)(n);return t?JSON.parse(t):(m("Failed to decode base64 JWT payload"),null)}catch(s){return m("Caught error parsing JWT payload as JSON",s),null}}async function B(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof r.ZR&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}class z{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&this.schedule(!0))}this.schedule()}}class ${constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=q(this.lastLoginAt),this.creationTime=q(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function W(t){var e;const n=t.auth,r=await t.getIdToken(),i=await B(t,async function(t,e){return P(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));T(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=(null===(e=o.providerUserInfo)||void 0===e?void 0:e.length)?o.providerUserInfo.map((t=>{var{providerId:e}=t,n=(0,s._T)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const u=(c=t.providerData,l=a,[...c.filter((t=>!l.some((e=>e.providerId===t.providerId)))),...l]);var c,l;const h=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!h&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){T(t.idToken,"internal-error"),T("undefined"!==typeof t.idToken,"internal-error"),T("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):function(t){const e=H(t);return T(e,"internal-error"),T("undefined"!==typeof e.exp,"internal-error"),T("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return T(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:s}=await async function(t,e){const n=await L(t,{},(()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=F(t,i,"/v1/token",`key=${s}`);return O.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new G;return n&&(T("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(T("string"===typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(T("number"===typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return I("not implemented")}}function K(t,e){T("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class Y{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=(0,s._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new $(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await B(this,this.stsTokenManager.getToken(this.auth,t));return T(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=(0,r.m9)(t),i=await n.getIdToken(e),s=H(i);T(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"===typeof s.firebase?s.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:q(Z(s.auth_time)),issuedAtTime:q(Z(s.iat)),expirationTime:q(Z(s.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=(0,r.m9)(t);await W(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(T(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Y(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await W(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await B(this,async function(t,e){return P(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,u,c;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=e.createdAt)&&void 0!==u?u:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:I,stsTokenManager:E}=e;T(v&&E,t,"internal-error");const k=G.fromJSON(this.name,E);T("string"===typeof v,t,"internal-error"),K(l,t.name),K(h,t.name),T("boolean"===typeof w,t,"internal-error"),T("boolean"===typeof b,t,"internal-error"),K(d,t.name),K(f,t.name),K(p,t.name),K(m,t.name),K(g,t.name),K(y,t.name);const _=new Y({uid:v,auth:t,email:h,emailVerified:w,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(_.providerData=I.map((t=>Object.assign({},t)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(t,e,n=!1){const r=new G;r.updateFromServerResponse(e);const i=new Y({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await W(i),i}}class Q{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Q.type="NONE";const X=Q;function J(t,e,n){return`firebase:${t}:${e}:${n}`}class tt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=J(this.userKey,r.apiKey,i),this.fullPersistenceKey=J("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Y._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new tt(_(X),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||_(X);const s=J(n,t.config.apiKey,t.name);let o=null;for(const c of e)try{const e=await c._get(s);if(e){const n=Y._fromJSON(t,e);c!==i&&(o=n),i=c;break}}catch(u){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(s)}catch(u){}}))),new tt(i,t,n)):new tt(i,t,n)}}function et(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(st(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(at(e))return"Blackberry";if(ut(e))return"Webos";if(rt(e))return"Safari";if((e.includes("chrome/")||it(e))&&!e.includes("edge/"))return"Chrome";if(ot(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function nt(t=(0,r.z$)()){return/firefox\//i.test(t)}function rt(t=(0,r.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function it(t=(0,r.z$)()){return/crios\//i.test(t)}function st(t=(0,r.z$)()){return/iemobile/i.test(t)}function ot(t=(0,r.z$)()){return/android/i.test(t)}function at(t=(0,r.z$)()){return/blackberry/i.test(t)}function ut(t=(0,r.z$)()){return/webos/i.test(t)}function ct(t=(0,r.z$)()){return/iphone|ipad|ipod/i.test(t)}function lt(t=(0,r.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function ht(t=(0,r.z$)()){return ct(t)||ot(t)||ut(t)||at(t)||/windows phone/i.test(t)||st(t)}function dt(t,e=[]){let n;switch(t){case"Browser":n=et((0,r.z$)());break;case"Worker":n=`${et((0,r.z$)())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.SDK_VERSION}/${s}`}class ft{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mt(this),this.idTokenSubscription=new mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=_(e)),this._initializationPromise=this.queue((async()=>{var n;this._deleted||(this.persistenceManager=await tt.create(this,t),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(e),this._deleted||(this._isInitialized=!0)))})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(t)):void 0}async initializeCurrentUser(t){var e;let n=await this.assertedPersistence.getCurrentUser();if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,i=null===n||void 0===n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(t);r&&r!==i||!(null===s||void 0===s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(T(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await W(t)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,r.m9)(t):null;return e&&T(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){if(!this._deleted)return t&&T(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(_(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new r.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&_(t)||this._popupRedirectResolver;T(e,this,"argument-error"),this.redirectPersistenceManager=await tt.create(this,[_(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return T(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function pt(t){return(0,r.m9)(t)}class mt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,r.ne)((t=>this.observer=t))}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gt(t,e,n){const r=pt(t);T(r._canInitEmulator,r,"emulator-config-failed"),T(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=yt(e),{host:o,port:a}=function(t){const e=yt(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:vt(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:vt(e)}}}(e),u=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function yt(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vt(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class wt{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return I("not implemented")}_getIdTokenResponse(t){return I("not implemented")}_linkToIdToken(t,e){return I("not implemented")}_getReauthenticationResolver(t){return I("not implemented")}}async function bt(t,e){return P(t,"POST","/v1/accounts:resetPassword",M(t,e))}async function Tt(t,e){return P(t,"POST","/v1/accounts:update",e)}async function It(t,e){return P(t,"POST","/v1/accounts:sendOobCode",M(t,e))}class Et extends wt{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Et(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Et(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return async function(t,e){return U(t,"POST","/v1/accounts:signInWithPassword",M(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return U(t,"POST","/v1/accounts:signInWithEmailLink",M(t,e))}(t,{email:this._email,oobCode:this._password});default:g(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Tt(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return U(t,"POST","/v1/accounts:signInWithEmailLink",M(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:g(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function kt(t,e){return U(t,"POST","/v1/accounts:signInWithIdp",M(t,e))}class _t extends wt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new _t(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):g("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=(0,s._T)(e,["providerId","signInMethod"]);if(!n||!r)return null;const o=new _t(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){return kt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,kt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,kt(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,r.xO)(e)}return t}}const St={USER_NOT_FOUND:"user-not-found"};class Ct extends wt{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Ct({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Ct({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return U(t,"POST","/v1/accounts:signInWithPhoneNumber",M(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await U(t,"POST","/v1/accounts:signInWithPhoneNumber",M(t,e));if(n.temporaryProof)throw j(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return U(t,"POST","/v1/accounts:signInWithPhoneNumber",M(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),St)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new Ct({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class At{constructor(t){var e,n,i,s,o,a;const u=(0,r.zd)((0,r.pd)(t)),c=null!==(e=u.apiKey)&&void 0!==e?e:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);T(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,r.zd)((0,r.pd)(t)).link,n=e?(0,r.zd)((0,r.pd)(e)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(t)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||e||t}(t);try{return new At(e)}catch(n){return null}}}class Nt{constructor(){this.providerId=Nt.PROVIDER_ID}static credential(t,e){return Et._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=At.parseLink(e);return T(n,"argument-error"),Et._fromEmailAndCode(t,n.code,n.tenantId)}}Nt.PROVIDER_ID="password",Nt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Nt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dt{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ot extends Dt{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Rt extends Ot{static credentialFromJSON(t){const e="string"===typeof t?JSON.parse(t):t;return T("providerId"in e&&"signInMethod"in e,"argument-error"),_t._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return T(t.idToken||t.accessToken,"argument-error"),_t._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return Rt.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return Rt.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=t;if(!n&&!r&&!e&&!i)return null;if(!o)return null;try{return new Rt(o)._credential({idToken:e,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}class xt extends Ot{constructor(){super("facebook.com")}static credential(t){return _t._fromParams({providerId:xt.PROVIDER_ID,signInMethod:xt.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xt.credentialFromTaggedObject(t)}static credentialFromError(t){return xt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xt.credential(t.oauthAccessToken)}catch(e){return null}}}xt.FACEBOOK_SIGN_IN_METHOD="facebook.com",xt.PROVIDER_ID="facebook.com";class Mt extends Ot{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return _t._fromParams({providerId:Mt.PROVIDER_ID,signInMethod:Mt.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Mt.credentialFromTaggedObject(t)}static credentialFromError(t){return Mt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Mt.credential(e,n)}catch(r){return null}}}Mt.GOOGLE_SIGN_IN_METHOD="google.com",Mt.PROVIDER_ID="google.com";class Pt extends Ot{constructor(){super("github.com")}static credential(t){return _t._fromParams({providerId:Pt.PROVIDER_ID,signInMethod:Pt.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pt.credentialFromTaggedObject(t)}static credentialFromError(t){return Pt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pt.credential(t.oauthAccessToken)}catch(e){return null}}}Pt.GITHUB_SIGN_IN_METHOD="github.com",Pt.PROVIDER_ID="github.com";class Lt extends wt{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){return kt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,kt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,kt(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r,pendingToken:i}=e;return n&&r&&i&&n===r?new Lt(n,i):null}static _create(t,e){return new Lt(t,e)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ut extends Ot{constructor(){super("twitter.com")}static credential(t,e){return _t._fromParams({providerId:Ut.PROVIDER_ID,signInMethod:Ut.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ut.credentialFromTaggedObject(t)}static credentialFromError(t){return Ut.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Ut.credential(e,n)}catch(r){return null}}}async function Ft(t,e){return U(t,"POST","/v1/accounts:signUp",M(t,e))}Ut.TWITTER_SIGN_IN_METHOD="twitter.com",Ut.PROVIDER_ID="twitter.com";class Vt{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await Y._fromIdTokenResponse(t,n,r),s=jt(n);return new Vt({user:i,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=jt(n);return new Vt({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function jt(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function qt(t){var e;const n=pt(t);if(await n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new Vt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ft(n,{returnSecureToken:!0}),i=await Vt._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class Zt extends r.ZR{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Zt.prototype),this.appName=t.name,this.code=e.code,this.tenantId=null!==(i=t.tenantId)&&void 0!==i?i:void 0,this.serverResponse=e.customData.serverResponse}static _fromErrorAndOperation(t,e,n,r){return new Zt(t,e,n,r)}}function Ht(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Zt._fromErrorAndOperation(t,n,e,r);throw n}))}function Bt(t){return new Set(t.map((({providerId:t})=>t)).filter((t=>!!t)))}async function zt(t,e){const n=(0,r.m9)(t);await Wt(!0,n,e);const{providerUserInfo:i}=await async function(t,e){return P(t,"POST","/v1/accounts:update",e)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=Bt(i||[]);return n.providerData=n.providerData.filter((t=>s.has(t.providerId))),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function $t(t,e,n=!1){const r=await B(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vt._forOperation(t,"link",r)}async function Wt(t,e,n){await W(e);const r=!1===t?"provider-already-linked":"no-such-provider";T(Bt(e.providerData).has(n)===t,e.auth,r)}async function Gt(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await B(t,Ht(r,i,e,t),n);T(s.idToken,r,"internal-error");const o=H(s.idToken);T(o,r,"internal-error");const{sub:a}=o;return T(t.uid===a,r,"user-mismatch"),Vt._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&g(r,"user-mismatch"),s}}async function Kt(t,e,n=!1){const r="signIn",i=await Ht(t,r,e),s=await Vt._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Yt(t,e){return Kt(pt(t),e)}async function Qt(t,e){const n=(0,r.m9)(t);return await Wt(!1,n,e.providerId),$t(n,e)}async function Xt(t,e){return Gt((0,r.m9)(t),e)}async function Jt(t,e){const n=pt(t),r=await async function(t,e){return U(t,"POST","/v1/accounts:signInWithCustomToken",M(t,e))}(n,{token:e,returnSecureToken:!0}),i=await Vt._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class te{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?ee._fromServerResponse(t,e):g(t,"internal-error")}}class ee extends te{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new ee(e)}}function ne(t,e,n){var r;T((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),T("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(T(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(T(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function re(t,e,n){const i=(0,r.m9)(t),s={requestType:"PASSWORD_RESET",email:e};n&&ne(i,s,n),await async function(t,e){return It(t,e)}(i,s)}async function ie(t,e,n){await bt((0,r.m9)(t),{oobCode:e,newPassword:n})}async function se(t,e){await async function(t,e){return P(t,"POST","/v1/accounts:update",M(t,e))}((0,r.m9)(t),{oobCode:e})}async function oe(t,e){const n=(0,r.m9)(t),i=await bt(n,{oobCode:e}),s=i.requestType;switch(T(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":T(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":T(i.mfaInfo,n,"internal-error");default:T(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=te._fromServerResponse(pt(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function ae(t,e){const{data:n}=await oe((0,r.m9)(t),e);return n.email}async function ue(t,e,n){const r=pt(t),i=await Ft(r,{returnSecureToken:!0,email:e,password:n}),s=await Vt._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function ce(t,e,n){return Yt((0,r.m9)(t),Nt.credential(e,n))}async function le(t,e,n){const i=(0,r.m9)(t),s={requestType:"EMAIL_SIGNIN",email:e};T(n.handleCodeInApp,i,"argument-error"),n&&ne(i,s,n),await async function(t,e){return It(t,e)}(i,s)}function he(t,e){const n=At.parseLink(e);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function de(t,e,n){const i=(0,r.m9)(t),s=Nt.credentialWithLink(e,n||S());return T(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Yt(i,s)}async function fe(t,e){const n={identifier:e,continueUri:C()?S():"http://localhost"},{signinMethods:i}=await async function(t,e){return P(t,"POST","/v1/accounts:createAuthUri",M(t,e))}((0,r.m9)(t),n);return i||[]}async function pe(t,e){const n=(0,r.m9)(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&ne(n.auth,i,e);const{email:s}=await async function(t,e){return It(t,e)}(n.auth,i);s!==t.email&&await t.reload()}async function me(t,e,n){const i=(0,r.m9)(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&ne(i.auth,s,n);const{email:o}=await async function(t,e){return It(t,e)}(i.auth,s);o!==t.email&&await t.reload()}async function ge(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const i=(0,r.m9)(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await B(i,async function(t,e){return P(t,"POST","/v1/accounts:update",e)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((({providerId:t})=>"password"===t));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function ye(t,e){return we((0,r.m9)(t),e,null)}function ve(t,e){return we((0,r.m9)(t),null,e)}async function we(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const s=await B(t,Tt(r,i));await t._updateTokensIfNecessary(s,!0)}class be{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class Te extends be{constructor(t,e,n,r){super(t,e,n),this.username=r}}class Ie extends be{constructor(t,e){super(t,"facebook.com",e)}}class Ee extends Te{constructor(t,e){super(t,"github.com",e,"string"===typeof(null===e||void 0===e?void 0:e.login)?null===e||void 0===e?void 0:e.login:null)}}class ke extends be{constructor(t,e){super(t,"google.com",e)}}class _e extends Te{constructor(t,e,n){super(t,"twitter.com",e,n)}}function Se(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!r&&(null===t||void 0===t?void 0:t.idToken)){const r=null===(n=null===(e=H(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new be(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Ie(s,i);case"github.com":return new Ee(s,i);case"google.com":return new ke(s,i);case"twitter.com":return new _e(s,i,t.screenName||null);case"custom":case"anonymous":return new be(s,null);default:return new be(s,r,i)}}(n)}function Ce(t,e,n,i){return(0,r.m9)(t).onAuthStateChanged(e,n,i)}function Ae(t){return(0,r.m9)(t).signOut()}class Ne{constructor(t,e){this.type=t,this.credential=e}static _fromIdtoken(t){return new Ne("enroll",t)}static _fromMfaPendingCredential(t){return new Ne("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,n;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return Ne._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return Ne._fromIdtoken(t.multiFactorSession.idToken)}return null}}class De{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=pt(t),r=(e.serverResponse.mfaInfo||[]).map((t=>te._fromServerResponse(n,t)));T(e.serverResponse.mfaPendingCredential,n,"internal-error");const i=Ne._fromMfaPendingCredential(e.serverResponse.mfaPendingCredential);return new De(i,r,(async t=>{const r=await t._process(n,i);delete e.serverResponse.mfaInfo,delete e.serverResponse.mfaPendingCredential;const s=Object.assign(Object.assign({},e.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(e.operationType){case"signIn":const t=await Vt._fromIdTokenResponse(n,e.operationType,s);return await n._updateCurrentUser(t.user),t;case"reauthenticate":return T(e.user,n,"internal-error"),Vt._forOperation(e.user,e.operationType,s);default:g(n,"internal-error")}}))}async resolveSignIn(t){const e=t;return this.signInResolver(e)}}function Oe(t,e){var n;const i=(0,r.m9)(t),s=e;return T(e.operationType,i,"argument-error"),T(null===(n=s.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),De._fromError(i,s)}class Re{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload((e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map((e=>te._fromServerResponse(t.auth,e))))}))}static _fromUser(t){return new Re(t)}async getSession(){return Ne._fromIdtoken(await this.user.getIdToken())}async enroll(t,e){const n=t,r=await this.getSession(),i=await B(this.user,n._process(this.user.auth,r,e));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(t){const e="string"===typeof t?t:t.uid,n=await this.user.getIdToken(),r=await B(this.user,(i=this.user.auth,s={idToken:n,mfaEnrollmentId:e},P(i,"POST","/v2/accounts/mfaEnrollment:withdraw",M(i,s))));var i,s;this.enrolledFactors=this.enrolledFactors.filter((({uid:t})=>t!==e)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(o){if("auth/user-token-expired"!==o.code)throw o}}}const xe=new WeakMap;function Me(t){const e=(0,r.m9)(t);return xe.has(e)||xe.set(e,Re._fromUser(e)),xe.get(e)}const Pe="__sak";class Le{constructor(t,e){this.storage=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Pe,"1"),this.storage.removeItem(Pe),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}}class Ue extends Le{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,r.z$)();return rt(t)||ct(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=ht(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},s=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ue.type="LOCAL";const Fe=Ue;class Ve extends Le{constructor(){super(window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Ve.type="SESSION";const je=Ve;class qe{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new qe(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ze(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}qe.receivers=[];class He{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const u=Ze("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===u)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Be(){return window}function ze(){return"undefined"!==typeof Be().WorkerGlobalScope&&"function"===typeof Be().importScripts}const $e="firebaseLocalStorageDb",We="firebaseLocalStorage",Ge="fbase_key";class Ke{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Ye(t,e){return t.transaction([We],e?"readwrite":"readonly").objectStore(We)}function Qe(){const t=indexedDB.open($e,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(We,{keyPath:Ge})}catch(r){n(r)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(We)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase($e);return new Ke(t).toPromise()}(),e(await Qe()))}))}))}async function Xe(t,e,n){const r=Ye(t,!0).put({[Ge]:e,value:n});return new Ke(r).toPromise()}function Je(t,e){const n=Ye(t,!0).delete(e);return new Ke(n).toPromise()}class tn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Qe()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ze()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qe._getInstance(ze()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new He(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qe();return await Xe(t,Pe,"1"),await Je(t,Pe),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Xe(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Ye(t,!1).get(e),r=await new Ke(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Je(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Ye(t,!1).getAll();return new Ke(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}tn.type="LOCAL";const en=tn;function nn(t){return new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=y("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}))}function rn(t){return`__${t}${Math.floor(1e6*Math.random())}`}const sn=1e12;class on{constructor(t){this.auth=t,this.counter=sn,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new an(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||sn;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;const n=t||sn;return(null===(e=this._widgets.get(n))||void 0===e?void 0:e.getResponse())||""}async execute(t){var e;const n=t||sn;return null===(e=this._widgets.get(n))||void 0===e||e.execute(),""}}class an{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof t?document.getElementById(t):t;T(r,"argument-error",{appName:e}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}(50);const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const un=rn("rcb"),cn=new N(3e4,6e4);class ln{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Be().grecaptcha}load(t,e=""){return T(function(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}(e),t,"argument-error"),this.shouldResolveImmediately(e)?Promise.resolve(Be().grecaptcha):new Promise(((n,i)=>{const s=Be().setTimeout((()=>{i(y(t,"network-request-failed"))}),cn.get());Be()[un]=()=>{Be().clearTimeout(s),delete Be()[un];const r=Be().grecaptcha;if(!r)return void i(y(t,"internal-error"));const o=r.render;r.render=(t,e)=>{const n=o(t,e);return this.counter++,n},this.hostLanguage=e,n(r)};nn(`https://www.google.com/recaptcha/api.js??${(0,r.xO)({onload:un,render:"explicit",hl:e})}`).catch((()=>{clearTimeout(s),i(y(t,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){return!!Be().grecaptcha&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hn{async load(t){return new on(t)}clearedOneInstance(){}}const dn="recaptcha",fn={theme:"light",type:"image"};class pn{constructor(t,e=Object.assign({},fn),n){this.parameters=e,this.type=dn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pt(n),this.isInvisible="invisible"===this.parameters.size,T("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;T(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hn:new ln,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),e=this.getAssertedRecaptcha(),n=e.getResponse(t);return n||new Promise((n=>{const r=t=>{t&&(this.tokenChangeListeners.delete(r),n(t))};this.tokenChangeListeners.add(r),this.isInvisible&&e.execute(t)}))}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((t=>{throw this.renderPromise=null,t}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((t=>{this.container.removeChild(t)}))}validateStartingState(){T(!this.parameters.sitekey,this.auth,"argument-error"),T(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),T("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach((t=>t(e))),"function"===typeof t)t(e);else if("string"===typeof t){const n=Be()[t];"function"===typeof n&&n(e)}}}assertNotDestroyed(){T(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){T(C()&&!ze(),this.auth,"internal-error"),await function(){let t=null;return new Promise((e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()})).catch((e=>{throw t&&window.removeEventListener("load",t),e}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await async function(t){return(await P(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);T(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return T(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mn{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=Ct._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}async function gn(t,e,n){const i=pt(t),s=await wn(i,e,(0,r.m9)(n));return new mn(s,(t=>Yt(i,t)))}async function yn(t,e,n){const i=(0,r.m9)(t);await Wt(!1,i,"phone");const s=await wn(i.auth,e,(0,r.m9)(n));return new mn(s,(t=>Qt(i,t)))}async function vn(t,e,n){const i=(0,r.m9)(t),s=await wn(i.auth,e,(0,r.m9)(n));return new mn(s,(t=>Xt(i,t)))}async function wn(t,e,n){var r;const i=await n.verify();try{let s;if(T("string"===typeof i,t,"argument-error"),T(n.type===dn,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){T("enroll"===e.type,t,"internal-error");const n=await function(t,e){return P(t,"POST","/v2/accounts/mfaEnrollment:start",M(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{T("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;T(n,t,"missing-multi-factor-info");const o=await function(t,e){return P(t,"POST","/v2/accounts/mfaSignIn:start",M(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return P(t,"POST","/v1/accounts:sendVerificationCode",M(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}async function bn(t,e){await $t((0,r.m9)(t),e)}class Tn{constructor(t){this.providerId=Tn.PROVIDER_ID,this.auth=pt(t)}verifyPhoneNumber(t,e){return wn(this.auth,t,(0,r.m9)(e))}static credential(t,e){return Ct._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Tn.credentialFromTaggedObject(e)}static credentialFromError(t){return Tn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?Ct._fromTokenResponse(e,n):null}}function In(t,e){return e?_(e):(T(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}Tn.PROVIDER_ID="phone",Tn.PHONE_SIGN_IN_METHOD="phone";class En extends wt{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return kt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return kt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return kt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function kn(t){return Kt(t.auth,new En(t),t.bypassAuthState)}function _n(t){const{auth:e,user:n}=t;return T(n,e,"internal-error"),Gt(n,new En(t),t.bypassAuthState)}async function Sn(t){const{auth:e,user:n}=t;return T(n,e,"internal-error"),$t(n,new En(t),t.bypassAuthState)}class Cn{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kn;case"linkViaPopup":case"linkViaRedirect":return Sn;case"reauthViaPopup":case"reauthViaRedirect":return _n;default:g(this.auth,"internal-error")}}resolve(t){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const An=new N(2e3,1e4);async function Nn(t,e,n){const r=pt(t);w(t,e,Dt);const i=In(r,n);return new Rn(r,"signInViaPopup",e,i).executeNotNull()}async function Dn(t,e,n){const i=(0,r.m9)(t);w(i.auth,e,Dt);const s=In(i.auth,n);return new Rn(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function On(t,e,n){const i=(0,r.m9)(t);w(i.auth,e,Dt);const s=In(i.auth,n);return new Rn(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class Rn extends Cn{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Rn.currentPopupAction&&Rn.currentPopupAction.cancel(),Rn.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return T(t,this.auth,"internal-error"),t}async onExecution(){E(1===this.filter.length,"Popup operations only handle one event");const t=Ze();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(y(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rn.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(y(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,An.get())};t()}}Rn.currentPopupAction=null;const xn=new Map;class Mn extends Cn{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=xn.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=Fn(e),r="true"===await Un(t)._get(n);return await Un(t)._remove(n),r}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}xn.set(this.auth._key(),t)}return t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Pn(t,e){return Un(t)._set(Fn(e),"true")}function Ln(){xn.clear()}function Un(t){return _(t._redirectPersistence)}function Fn(t){return J("pendingRedirect",t.config.apiKey,t.name)}function Vn(t,e,n){return async function(t,e,n){const r=pt(t);w(t,e,Dt);const i=In(r,n);return await Pn(i,r),i._openRedirect(r,e,"signInViaRedirect")}(t,e,n)}function jn(t,e,n){return async function(t,e,n){const i=(0,r.m9)(t);w(i.auth,e,Dt);const s=In(i.auth,n);await Pn(s,i.auth);const o=await Bn(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}(t,e,n)}function qn(t,e,n){return async function(t,e,n){const i=(0,r.m9)(t);w(i.auth,e,Dt);const s=In(i.auth,n);await Wt(!1,i,e.providerId),await Pn(s,i.auth);const o=await Bn(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}(t,e,n)}async function Zn(t,e){return await pt(t)._initializationPromise,Hn(t,e,!1)}async function Hn(t,e,n=!1){const r=pt(t),i=In(r,e),s=new Mn(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function Bn(t){const e=Ze(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}class zn{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wn(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Wn(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(y(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($n(t))}saveEventToCache(t){this.cachedEventUids.add($n(t)),this.lastProcessedEventTime=Date.now()}}function $n(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Wn({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}async function Gn(t,e={}){return P(t,"GET","/v1/projects",e)}const Kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yn=/^https?/;function Qn(t){const e=S(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Yn.test(n))return!1;if(Kn.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Xn=new N(3e4,6e4);function Jn(){const t=Be().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let tr=null;function er(t){return tr=tr||function(t){return new Promise(((e,n)=>{var r,i,s;function o(){Jn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jn(),n(y(t,"network-request-failed"))},timeout:Xn.get()})}if(null===(i=null===(r=Be().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Be().gapi)||void 0===s?void 0:s.load)){const e=rn("iframefcb");return Be()[e]=()=>{gapi.load?o():n(y(t,"network-request-failed"))},nn(`https://apis.google.com/js/api.js?onload=${e}`)}o()}})).catch((t=>{throw tr=null,t}))}(t),tr}const nr=new N(5e3,15e3),rr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ir=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sr(t){const e=t.config;T(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?D(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,s={apiKey:e.apiKey,appName:t.name,v:i.SDK_VERSION},o=ir.get(t.config.apiHost);o&&(s.eid=o);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${(0,r.xO)(s).slice(1)}`}const or={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ar{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function ur(t,e,n,i=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},or),{width:i.toString(),height:s.toString(),top:o,left:a}),l=(0,r.z$)().toLowerCase();n&&(u=it(l)?"_blank":n),nt(l)&&(e=e||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=(0,r.z$)()){var e;return ct(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",u),new ar(null);const d=window.open(e||"",u,h);T(d,t,"popup-blocked");try{d.focus()}catch(f){}return new ar(d)}const cr="__/auth/handler",lr="emulator/auth/handler";function hr(t,e,n,s,o,a){T(t.config.authDomain,t,"auth-domain-config-required"),T(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:i.SDK_VERSION,eventId:o};if(e instanceof Dt){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",(0,r.xb)(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))u[t]=e}if(e instanceof Ot){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(u.scopes=t.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];return`${function({config:t}){if(!t.emulator)return`https://${t.authDomain}/${cr}`;return D(t,lr)}(t)}?${(0,r.xO)(c).slice(1)}`}const dr="webStorageSupport";const fr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=je,this._completeRedirectFn=Hn}async _openPopup(t,e,n,r){var i;E(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ur(t,hr(t,e,n,S(),r),Ze())}async _openRedirect(t,e,n,r){var i;return await this._originValidation(t),i=hr(t,e,n,S(),r),Be().location.href=i,new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(E(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n}async initAndGetManager(t){const e=await async function(t){const e=await er(t),n=Be().gapi;return T(n,t,"internal-error"),e.open({where:document.body,url:sr(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rr,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=y(t,"network-request-failed"),s=Be().setTimeout((()=>{r(i)}),nr.get());function o(){Be().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{r(i)}))}))))}(t),n=new zn(t);return e.register("authEvent",(e=>{T(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(dr,{type:dr},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&e(!!i),g(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=async function(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gn(t);for(const r of e)try{if(Qn(r))return}catch(n){}g(t,"unauthorized-domain")}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ht()||rt()||ct()}};class pr extends class{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return I("unexpected MultiFactorSessionType")}}}{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new pr(t)}_finalizeEnroll(t,e,n){return function(t,e){return P(t,"POST","/v2/accounts/mfaEnrollment:finalize",M(t,e))}(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return function(t,e){return P(t,"POST","/v2/accounts/mfaSignIn:finalize",M(t,e))}(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mr{constructor(){}static assertion(t){return pr._fromCredential(t)}}mr.FACTOR_ID="phone";var gr,yr="@firebase/auth",vr="0.18.3";class wr{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function br(t=(0,i.getApp)()){const e=(0,i._getProvider)(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=(0,i._getProvider)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!==e&&void 0!==e?e:{}))return t;g(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:fr,persistence:[en,Fe,je]})}gr="Browser",(0,i._registerComponent)(new a.wA("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(t=>{T(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),T(!(null===i||void 0===i?void 0:i.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:i,clientPlatform:gr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dt(gr)},s=new ft(t,n);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}(s,e),s})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),(0,i._registerComponent)(new a.wA("auth-internal",(t=>(t=>new wr(t))(pt(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.registerVersion)(yr,vr,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(gr)),(0,i.registerVersion)(yr,vr,"esm2017")},909:function(t,e,n){"use strict";n.d(e,{wA:function(){return s},H0:function(){return u}});var r=n(7582),i=n(4444),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(d){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[0],c=a[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(d){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),(0,r.CR)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[0],d=l[1];o===this.normalizeInstanceIdentifier(h)&&d.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},6934:function(t,e,n){"use strict";n.d(e,{in:function(){return i},Yd:function(){return c},Ub:function(){return l},Am:function(){return h}});const r=[];var i;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class c{constructor(t){this.name=t,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function l(t){r.forEach((e=>{e.setLogLevel(t)}))}function h(t,e){for(const n of r){let r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:(e,n,...s)=>{const o=s.map((t=>{if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((t=>t)).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:o,args:s,type:e.name})}}}},4444:function(t,e,n){"use strict";n.d(e,{BH:function(){return a},LL:function(){return w},ZR:function(){return v},tV:function(){return s},r3:function(){return T},ne:function(){return A},vZ:function(){return E},ZB:function(){return o},pd:function(){return C},m9:function(){return O},z$:function(){return u},jU:function(){return h},ru:function(){return d},d:function(){return p},xb:function(){return I},w1:function(){return m},hl:function(){return y},uI:function(){return c},UG:function(){return l},b$:function(){return f},Mn:function(){return g},xO:function(){return _},zd:function(){return S}});const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=e>>2,l=(3&e)<<4|o>>4;let h=(15&o)<<2|u>>6,d=63&u;a||(d=64,s||(h=64)),r.push(n[c],n[l],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw Error();const u=e<<2|s>>4;if(r.push(u),64!==o){const t=s<<4&240|o>>2;if(r.push(t),64!==a){const t=o<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){try{return i.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function l(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function h(){return"object"===typeof self&&self.self===self}function d(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function f(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function p(){return u().indexOf("Electron/")>=0}function m(){const t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}function y(){return"object"===typeof indexedDB}class v extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}class w{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(b,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new v(r,o,n)}}const b=/\{\$([^}]+)}/g;function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function E(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(k(n)&&k(s)){if(!E(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function k(t){return null!==t&&"object"===typeof t}function _(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function S(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function C(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A(t,e){const n=new N(t,e);return n.subscribe.bind(n)}class N{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function D(){}function O(t){return t&&t._delegate?t._delegate:t}},1265:function(t,e,n){"use strict";n.d(e,{Z:function(){return U}});var r=n(7462),i=n(3366),s=n(9766),o=n(6500);var a=n(1387),u=n(1796);var c={black:"#000",white:"#fff"};var l={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var d={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var f={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var p={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var m={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const y=["mode","contrastThreshold","tonalOffset"],v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:c.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function b(t,e,n,r){const i=r.light||r,s=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=(0,u.$n)(t.main,i):"dark"===e&&(t.dark=(0,u._j)(t.main,s)))}function T(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,T=(0,i.Z)(t,y),I=t.primary||function(t="light"){return"dark"===t?{main:p[200],light:p[50],dark:p[400]}:{main:p[700],light:p[400],dark:p[800]}}(e),E=t.secondary||function(t="light"){return"dark"===t?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(e),k=t.error||function(t="light"){return"dark"===t?{main:d[500],light:d[300],dark:d[700]}:{main:d[700],light:d[400],dark:d[800]}}(e),_=t.info||function(t="light"){return"dark"===t?{main:m[400],light:m[300],dark:m[700]}:{main:m[700],light:m[500],dark:m[900]}}(e),S=t.success||function(t="light"){return"dark"===t?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(e),C=t.warning||function(t="light"){return"dark"===t?{main:f[400],light:f[300],dark:f[700]}:{main:"#ed6c02",light:f[500],dark:f[900]}}(e);function A(t){return(0,u.mi)(t,w.text.primary)>=n?w.text.primary:v.text.primary}const N=({color:t,name:e,mainShade:n=500,lightShade:i=300,darkShade:s=700})=>{if(!(t=(0,r.Z)({},t)).main&&t[n]&&(t.main=t[n]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,e?` (${e})`:"",n));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,e?` (${e})`:"",JSON.stringify(t.main)));return b(t,"light",i,o),b(t,"dark",s,o),t.contrastText||(t.contrastText=A(t.main)),t},D={dark:w,light:v};return(0,s.Z)((0,r.Z)({common:c,mode:e,primary:N({color:I,name:"primary"}),secondary:N({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:k,name:"error"}),warning:N({color:C,name:"warning"}),info:N({color:_,name:"info"}),success:N({color:S,name:"success"}),grey:l,contrastThreshold:n,getContrastText:A,augmentColor:N,tonalOffset:o},D[e]),T)}const I=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const E={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function _(t,e){const n="function"===typeof e?e(t):e,{fontFamily:o=k,fontSize:a=14,fontWeightLight:u=300,fontWeightRegular:c=400,fontWeightMedium:l=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:p}=n,m=(0,i.Z)(n,I);const g=a/14,y=p||(t=>t/d*g+"rem"),v=(t,e,n,i,s)=>{return(0,r.Z)({fontFamily:o,fontWeight:t,fontSize:y(e),lineHeight:n},o===k?{letterSpacing:(a=i/e,Math.round(1e5*a)/1e5)+"em"}:{},s,f);var a},w={h1:v(u,96,1.167,-1.5),h2:v(u,60,1.2,-.5),h3:v(c,48,1.167,0),h4:v(c,34,1.235,.25),h5:v(c,24,1.334,0),h6:v(l,20,1.6,.15),subtitle1:v(c,16,1.75,.15),subtitle2:v(l,14,1.57,.1),body1:v(c,16,1.5,.15),body2:v(c,14,1.43,.15),button:v(l,14,1.75,.4,E),caption:v(c,12,1.66,.4),overline:v(c,12,2.66,1,E)};return(0,s.Z)((0,r.Z)({htmlFontSize:d,pxToRem:y,fontFamily:o,fontSize:a,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:l,fontWeightBold:h},w),m,{clone:!1})}function S(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,0.2)`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,0.14)`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,0.12)`].join(",")}var C=["none",S(0,2,1,-1,0,1,1,0,0,1,3,0),S(0,3,1,-2,0,2,2,0,0,1,5,0),S(0,3,3,-2,0,3,4,0,0,1,8,0),S(0,2,4,-1,0,4,5,0,0,1,10,0),S(0,3,5,-1,0,5,8,0,0,1,14,0),S(0,3,5,-1,0,6,10,0,0,1,18,0),S(0,4,5,-2,0,7,10,1,0,2,16,1),S(0,5,5,-3,0,8,10,1,0,3,14,2),S(0,5,6,-3,0,9,12,1,0,3,16,2),S(0,6,6,-3,0,10,14,1,0,4,18,3),S(0,6,7,-4,0,11,15,1,0,4,20,3),S(0,7,8,-4,0,12,17,2,0,5,22,4),S(0,7,8,-4,0,13,19,2,0,5,24,4),S(0,7,9,-4,0,14,21,2,0,5,26,4),S(0,8,9,-5,0,15,22,2,0,6,28,5),S(0,8,10,-5,0,16,24,2,0,6,30,5),S(0,8,11,-5,0,17,26,2,0,6,32,5),S(0,9,11,-5,0,18,28,2,0,7,34,6),S(0,9,12,-6,0,19,29,2,0,7,36,6),S(0,10,13,-6,0,20,31,3,0,8,38,7),S(0,10,13,-6,0,21,33,3,0,8,40,7),S(0,10,14,-6,0,22,35,3,0,8,42,7),S(0,11,14,-7,0,23,36,3,0,9,44,8),S(0,11,15,-7,0,24,38,3,0,9,46,8)];const A=["duration","easing","delay"],N={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O(t){return`${Math.round(t)}ms`}function R(t){if(!t)return 0;const e=t/36;return Math.round(10*(4+15*e**.25+e/5))}function x(t){const e=(0,r.Z)({},N,t.easing),n=(0,r.Z)({},D,t.duration);return(0,r.Z)({getAutoHeightDuration:R,create:(t=["all"],r={})=>{const{duration:s=n.standard,easing:o=e.easeInOut,delay:a=0}=r;(0,i.Z)(r,A);return(Array.isArray(t)?t:[t]).map((t=>`${t} ${"string"===typeof s?s:O(s)} ${o} ${"string"===typeof a?a:O(a)}`)).join(",")}},t,{easing:e,duration:n})}var M={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const P=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function L(t={},...e){const{mixins:n={},palette:a={},transitions:u={},typography:c={}}=t,l=(0,i.Z)(t,P),h=T(a),d=(0,o.Z)(t);let f=(0,s.Z)(d,{mixins:(p=d.breakpoints,d.spacing,m=n,(0,r.Z)({toolbar:{minHeight:56,[`${p.up("xs")} and (orientation: landscape)`]:{minHeight:48},[p.up("sm")]:{minHeight:64}}},m)),palette:h,shadows:C.slice(),typography:_(h,c),transitions:x(u),zIndex:(0,r.Z)({},M)});var p,m;return f=(0,s.Z)(f,l),f=e.reduce(((t,e)=>(0,s.Z)(t,e)),f),f}var U=L},4819:function(t,e,n){"use strict";const r=n(7294).createContext(null);e.Z=r},6760:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(7294),i=n(4819);function s(){return r.useContext(i.Z)}},5408:function(t,e,n){"use strict";n.d(e,{VO:function(){return r},k9:function(){return s},W8:function(){return o},L7:function(){return a},P$:function(){return u}});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${r[t]}px)`};function s(t,e,n){const s=t.theme||{};if(Array.isArray(e)){const t=s.breakpoints||i;return e.reduce(((r,i,s)=>(r[t.up(t.keys[s])]=n(e[s]),r)),{})}if("object"===typeof e){const t=s.breakpoints||i;return Object.keys(e).reduce(((i,s)=>{if(-1!==Object.keys(t.values||r).indexOf(s)){i[t.up(s)]=n(e[s],s)}else{const t=s;i[t]=e[t]}return i}),{})}return n(e)}function o(t={}){var e;return(null==t||null==(e=t.keys)?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function a(t,e){return t.reduce(((t,e)=>{const n=t[e];return(!n||0===Object.keys(n).length)&&delete t[e],t}),e)}function u({values:t,breakpoints:e,base:n}){const r=n||function(t,e){if("object"!==typeof t)return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach(((e,r)=>{r<t.length&&(n[e]=!0)})):r.forEach((e=>{null!=t[e]&&(n[e]=!0)})),n}(t,e),i=Object.keys(r);if(0===i.length)return t;let s;return i.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):(e[n]=null!=t[n]?t[n]:t[s]||t,s=n),e)),{})}},1796:function(t,e,n){"use strict";n.d(e,{mi:function(){return u},Fq:function(){return c},_j:function(){return l},$n:function(){return h},_4:function(){return d}});var r=n(1387);function i(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function s(t){if(t.type)return t;if("#"===t.charAt(0))return s(function(t){t=t.substr(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&1===n[0].length&&(n=n.map((t=>t+t))),n?`rgb${4===n.length?"a":""}(${n.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", ")})`:""}(t));const e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,t));let i,o=t.substring(e+1,t.length-1);if("color"===n){if(o=o.split(" "),i=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return o=o.map((t=>parseFloat(t))),{type:n,values:o,colorSpace:i}}function o(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return-1!==e.indexOf("rgb")?r=r.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==e.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${e}(${r})`}function a(t){let e="hsl"===(t=s(t)).type?s(function(t){t=s(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,a=r*Math.min(i,1-i),u=(t,e=(t+n/30)%12)=>i-a*Math.max(Math.min(e-3,9-e,1),-1);let c="rgb";const l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===t.type&&(c+="a",l.push(e[3])),o({type:c,values:l})}(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function u(t,e){const n=a(t),r=a(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(t,e){return t=s(t),e=i(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]=`/${e}`:t.values[3]=e,o(t)}function l(t,e){if(t=s(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return o(t)}function h(t,e){if(t=s(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return o(t)}function d(t,e=.15){return a(t)>.5?l(t,e):h(t,e)}},6500:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var r=n(7462),i=n(3366),s=n(9766);const o=["values","unit","step"];function a(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:s=5}=t,a=(0,i.Z)(t,o),u=(t=>{const e=Object.keys(t).map((e=>({key:e,val:t[e]})))||[];return e.sort(((t,e)=>t.val-e.val)),e.reduce(((t,e)=>(0,r.Z)({},t,{[e.key]:e.val})),{})})(e),c=Object.keys(u);function l(t){return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${n})`}function h(t){return`@media (max-width:${("number"===typeof e[t]?e[t]:t)-s/100}${n})`}function d(t,r){const i=c.indexOf(r);return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${n}) and (max-width:${(-1!==i&&"number"===typeof e[c[i]]?e[c[i]]:r)-s/100}${n})`}return(0,r.Z)({keys:c,values:u,up:l,down:h,between:d,only:function(t){return c.indexOf(t)+1<c.length?d(t,c[c.indexOf(t)+1]):l(t)},not:function(t){const e=c.indexOf(t);return 0===e?l(c[1]):e===c.length-1?h(c[e]):d(t,c[c.indexOf(t)+1]).replace("@media","@media not all and")},unit:n},a)}var u={borderRadius:4},c=n(8700);const l=["breakpoints","palette","spacing","shape"];var h=function(t={},...e){const{breakpoints:n={},palette:o={},spacing:h,shape:d={}}=t,f=(0,i.Z)(t,l),p=a(n),m=function(t=8){if(t.mui)return t;const e=(0,c.hB)({spacing:t}),n=(...t)=>(0===t.length?[1]:t).map((t=>{const n=e(t);return"number"===typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}(h);let g=(0,s.Z)({breakpoints:p,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},o),spacing:m,shape:(0,r.Z)({},u,d)},f);return g=e.reduce(((t,e)=>(0,s.Z)(t,e)),g),g}},7730:function(t,e,n){"use strict";var r=n(9766);e.Z=function(t,e){return e?(0,r.Z)(t,e,{clone:!1}):t}},8700:function(t,e,n){"use strict";n.d(e,{hB:function(){return p},eI:function(){return f},ZP:function(){return T},NA:function(){return m}});var r=n(5408),i=n(4844),s=n(7730);const o={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(t){const e={};return n=>(void 0===e[n]&&(e[n]=t(n)),e[n])}((t=>{if(t.length>2){if(!u[t])return[t];t=u[t]}const[e,n]=t.split(""),r=o[e],i=a[n]||"";return Array.isArray(i)?i.map((t=>r+t)):[r+i]})),l=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[...l,...h];function f(t,e,n,r){const s=(0,i.D)(t,e)||n;return"number"===typeof s?t=>"string"===typeof t?t:s*t:Array.isArray(s)?t=>"string"===typeof t?t:s[t]:"function"===typeof s?s:()=>{}}function p(t){return f(t,"spacing",8)}function m(t,e){if("string"===typeof e||null==e)return e;const n=t(Math.abs(e));return e>=0?n:"number"===typeof n?-n:`-${n}`}function g(t,e,n,i){if(-1===e.indexOf(n))return null;const s=function(t,e){return n=>t.reduce(((t,r)=>(t[r]=m(e,n),t)),{})}(c(n),i),o=t[n];return(0,r.k9)(t,o,s)}function y(t,e){const n=p(t.theme);return Object.keys(t).map((r=>g(t,e,r,n))).reduce(s.Z,{})}function v(t){return y(t,l)}function w(t){return y(t,h)}function b(t){return y(t,d)}v.propTypes={},v.filterProps=l,w.propTypes={},w.filterProps=h,b.propTypes={},b.filterProps=d;var T=b},4844:function(t,e,n){"use strict";n.d(e,{D:function(){return s}});var r=n(8320),i=n(5408);function s(t,e){return e&&"string"===typeof e?e.split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t):null}function o(t,e,n,r=n){let i;return i="function"===typeof t?t(n):Array.isArray(t)?t[n]||r:s(t,n)||r,e&&(i=e(i)),i}e.Z=function(t){const{prop:e,cssProperty:n=t.prop,themeKey:a,transform:u}=t,c=t=>{if(null==t[e])return null;const c=t[e],l=s(t.theme,a)||{};return(0,i.k9)(t,c,(t=>{let i=o(l,u,t);return t===i&&"string"===typeof t&&(i=o(l,u,`${e}${"default"===t?"":(0,r.Z)(t)}`,t)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[e],c}},6682:function(t,e,n){"use strict";var r=n(6500),i=n(4168);const s=(0,r.Z)();e.Z=function(t=s){return(0,i.Z)(t)}},4168:function(t,e,n){"use strict";var r=n(6760);e.Z=function(t=null){const e=(0,r.Z)();return e&&(n=e,0!==Object.keys(n).length)?e:t;var n}},8320:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(1387);function i(t){if("string"!==typeof t)throw new Error((0,r.Z)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},9766:function(t,e,n){"use strict";n.d(e,{P:function(){return i},Z:function(){return s}});var r=n(7462);function i(t){return null!==t&&"object"===typeof t&&t.constructor===Object}function s(t,e,n={clone:!0}){const o=n.clone?(0,r.Z)({},t):t;return i(t)&&i(e)&&Object.keys(e).forEach((r=>{"__proto__"!==r&&(i(e[r])&&r in t&&i(t[r])?o[r]=s(t[r],e[r],n):o[r]=e[r])})),o}},1387:function(t,e,n){"use strict";function r(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}n.d(e,{Z:function(){return r}})},720:function(t,e,n){"use strict";n.d(e,{y:function(){return s},_:function(){return o}});var r=n(7294),i=n(5893);const s=r.createContext(null);function o(t){const{children:e,dateAdapter:n,dateFormats:o,dateLibInstance:a,locale:u}=t,c=r.useMemo((()=>new n({locale:u,formats:o,instance:a})),[n,u,o,a]),l=r.useMemo((()=>({minDate:c.date("1900-01-01T00:00:00.000"),maxDate:c.date("2099-12-31T00:00:00.000")})),[c]),h=r.useMemo((()=>({utils:c,defaultDates:l})),[l,c]);return(0,i.jsx)(s.Provider,{value:h,children:e})}},5209:function(t,e){"use strict";function n(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}}function r(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={p:r,P:function(t,e){var i,s=t.match(/(P+)(p+)?/)||[],o=s[1],a=s[2];if(!a)return n(t,e);switch(o){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",n(o,e)).replace("{{time}}",r(a,e))}};e.default=i,t.exports=e.default},4810:function(t,e,n){"use strict";function r(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}n.d(e,{Z:function(){return r}})},7621:function(t,e){"use strict";function n(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}}function r(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}}var i={p:r,P:function(t,e){var i,s=t.match(/(P+)(p+)?/)||[],o=s[1],a=s[2];if(!a)return n(t,e);switch(o){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",n(o,e)).replace("{{time}}",r(a,e))}};e.Z=i},4262:function(t,e,n){"use strict";function r(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}n.d(e,{Z:function(){return r}})},7032:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(9013),i=n(3882),s=n(6979);function o(t){(0,i.Z)(1,arguments);var e=(0,r.Z)(t),n=e.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var a=(0,s.Z)(o),u=new Date(0);u.setUTCFullYear(n,0,4),u.setUTCHours(0,0,0,0);var c=(0,s.Z)(u);return e.getTime()>=a.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}},3276:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var r=n(9013),i=n(6979),s=n(7032),o=n(3882);function a(t){(0,o.Z)(1,arguments);var e=(0,s.Z)(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=(0,i.Z)(n);return r}var u=6048e5;function c(t){(0,o.Z)(1,arguments);var e=(0,r.Z)(t),n=(0,i.Z)(e).getTime()-a(e).getTime();return Math.round(n/u)+1}},7651:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(9013),i=n(3882),s=n(9025),o=n(3946);function a(t,e){(0,i.Z)(1,arguments);var n=(0,r.Z)(t),a=n.getUTCFullYear(),u=e||{},c=u.locale,l=c&&c.options&&c.options.firstWeekContainsDate,h=null==l?1:(0,o.Z)(l),d=null==u.firstWeekContainsDate?h:(0,o.Z)(u.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(a+1,0,d),f.setUTCHours(0,0,0,0);var p=(0,s.Z)(f,e),m=new Date(0);m.setUTCFullYear(a,0,d),m.setUTCHours(0,0,0,0);var g=(0,s.Z)(m,e);return n.getTime()>=p.getTime()?a+1:n.getTime()>=g.getTime()?a:a-1}},5230:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(9013),i=n(9025),s=n(7651),o=n(3882),a=n(3946);function u(t,e){(0,o.Z)(1,arguments);var n=e||{},r=n.locale,u=r&&r.options&&r.options.firstWeekContainsDate,c=null==u?1:(0,a.Z)(u),l=null==n.firstWeekContainsDate?c:(0,a.Z)(n.firstWeekContainsDate),h=(0,s.Z)(t,e),d=new Date(0);d.setUTCFullYear(h,0,l),d.setUTCHours(0,0,0,0);var f=(0,i.Z)(d,e);return f}var c=6048e5;function l(t,e){(0,o.Z)(1,arguments);var n=(0,r.Z)(t),s=(0,i.Z)(n,e).getTime()-u(n,e).getTime();return Math.round(s/c)+1}},5267:function(t,e,n){"use strict";n.d(e,{Iu:function(){return s},Do:function(){return o},qp:function(){return a}});var r=["D","DD"],i=["YY","YYYY"];function s(t){return-1!==r.indexOf(t)}function o(t){return-1!==i.indexOf(t)}function a(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}},3882:function(t,e,n){"use strict";function r(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}n.d(e,{Z:function(){return r}})},6979:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(9013),i=n(3882);function s(t){(0,i.Z)(1,arguments);var e=1,n=(0,r.Z)(t),s=n.getUTCDay(),o=(s<e?7:0)+s-e;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}},9025:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(9013),i=n(3882),s=n(3946);function o(t,e){(0,i.Z)(1,arguments);var n=e||{},o=n.locale,a=o&&o.options&&o.options.weekStartsOn,u=null==a?0:(0,s.Z)(a),c=null==n.weekStartsOn?u:(0,s.Z)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,r.Z)(t),h=l.getUTCDay(),d=(h<c?7:0)+h-c;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}},3946:function(t,e,n){"use strict";function r(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,{Z:function(){return r}})},1820:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(3946),i=n(9013),s=n(3882);function o(t,e){(0,s.Z)(2,arguments);var n=(0,i.Z)(t).getTime(),o=(0,r.Z)(e);return new Date(n+o)}},2912:function(t,e,n){"use strict";n.d(e,{Z:function(){return P}});var r=n(7274),i=n(5077),s=n(1218),o=n(9013),a=n(3882),u=864e5;var c=n(3276),l=n(7032),h=n(5230),d=n(7651),f=n(4810),p={y:function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return(0,f.Z)("yy"===e?r%100:r,e.length)},M:function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):(0,f.Z)(n+1,2)},d:function(t,e){return(0,f.Z)(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(t,e){return(0,f.Z)(t.getUTCHours()%12||12,e.length)},H:function(t,e){return(0,f.Z)(t.getUTCHours(),e.length)},m:function(t,e){return(0,f.Z)(t.getUTCMinutes(),e.length)},s:function(t,e){return(0,f.Z)(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,r=t.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,n-3));return(0,f.Z)(i,e.length)}},m="midnight",g="noon",y="morning",v="afternoon",w="evening",b="night",T={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return p.y(t,e)},Y:function(t,e,n,r){var i=(0,d.Z)(t,r),s=i>0?i:1-i;if("YY"===e){var o=s%100;return(0,f.Z)(o,2)}return"Yo"===e?n.ordinalNumber(s,{unit:"year"}):(0,f.Z)(s,e.length)},R:function(t,e){var n=(0,l.Z)(t);return(0,f.Z)(n,e.length)},u:function(t,e){var n=t.getUTCFullYear();return(0,f.Z)(n,e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return(0,f.Z)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return(0,f.Z)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return p.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return(0,f.Z)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var i=(0,h.Z)(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):(0,f.Z)(i,e.length)},I:function(t,e,n){var r=(0,c.Z)(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):(0,f.Z)(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):p.d(t,e)},D:function(t,e,n){var r=function(t){(0,a.Z)(1,arguments);var e=(0,o.Z)(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/u)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):(0,f.Z)(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var i=t.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return(0,f.Z)(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var i=t.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return(0,f.Z)(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),i=0===r?7:r;switch(e){case"i":return String(i);case"ii":return(0,f.Z)(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,i=t.getUTCHours();switch(r=12===i?g:0===i?m:i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,i=t.getUTCHours();switch(r=i>=17?w:i>=12?v:i>=4?y:b,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return p.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):p.H(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):(0,f.Z)(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):(0,f.Z)(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):p.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):p.s(t,e)},S:function(t,e){return p.S(t,e)},X:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();if(0===i)return"Z";switch(e){case"X":return E(i);case"XXXX":case"XX":return k(i);default:return k(i,":")}},x:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return E(i);case"xxxx":case"xx":return k(i);default:return k(i,":")}},O:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+I(i,":");default:return"GMT"+k(i,":")}},z:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+I(i,":");default:return"GMT"+k(i,":")}},t:function(t,e,n,r){var i=r._originalDate||t,s=Math.floor(i.getTime()/1e3);return(0,f.Z)(s,e.length)},T:function(t,e,n,r){var i=(r._originalDate||t).getTime();return(0,f.Z)(i,e.length)}};function I(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(0===s)return n+String(i);var o=e||"";return n+String(i)+o+(0,f.Z)(s,2)}function E(t,e){return t%60===0?(t>0?"-":"+")+(0,f.Z)(Math.abs(t)/60,2):k(t,e)}function k(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t);return r+(0,f.Z)(Math.floor(i/60),2)+n+(0,f.Z)(i%60,2)}var _=T,S=n(7621),C=n(4262),A=n(5267),N=n(3946),D=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R=/^'([^]*?)'?$/,x=/''/g,M=/[a-zA-Z]/;function P(t,e,n){(0,a.Z)(2,arguments);var u=String(e),c=n||{},l=c.locale||i.Z,h=l.options&&l.options.firstWeekContainsDate,d=null==h?1:(0,N.Z)(h),f=null==c.firstWeekContainsDate?d:(0,N.Z)(c.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=l.options&&l.options.weekStartsOn,m=null==p?0:(0,N.Z)(p),g=null==c.weekStartsOn?m:(0,N.Z)(c.weekStartsOn);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!l.localize)throw new RangeError("locale must contain localize property");if(!l.formatLong)throw new RangeError("locale must contain formatLong property");var y=(0,o.Z)(t);if(!(0,r.Z)(y))throw new RangeError("Invalid time value");var v=(0,C.Z)(y),w=(0,s.Z)(y,v),b={firstWeekContainsDate:f,weekStartsOn:g,locale:l,_originalDate:y},T=u.match(O).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,S.Z[e])(t,l.formatLong,b):t})).join("").match(D).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return L(n);var i=_[r];if(i)return!c.useAdditionalWeekYearTokens&&(0,A.Do)(n)&&(0,A.qp)(n,e,t),!c.useAdditionalDayOfYearTokens&&(0,A.Iu)(n)&&(0,A.qp)(n,e,t),i(w,n,l.localize,b);if(r.match(M))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return T}function L(t){return t.match(R)[1].replace(x,"'")}},7274:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(3882);function i(t){return(0,r.Z)(1,arguments),t instanceof Date||"object"===typeof t&&"[object Date]"===Object.prototype.toString.call(t)}var s=n(9013);function o(t){if((0,r.Z)(1,arguments),!i(t)&&"number"!==typeof t)return!1;var e=(0,s.Z)(t);return!isNaN(Number(e))}},5077:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i=function(t,e,n){var i,s=r[t];return i="string"===typeof s?s:1===e?s.one:s.other.replace("{{count}}",e.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function s(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var o={date:s({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:s({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:s({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u=function(t,e,n,r){return a[t]};function c(t){return function(e,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=i.width?String(i.width):s;r=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,u=i.width?String(i.width):t.defaultWidth;r=t.values[u]||t.values[a]}return r[t.argumentCallback?t.argumentCallback(e):e]}}var l={ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:c({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:c({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:c({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:c({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:c({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function h(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o,a=s[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?f(u,(function(t){return t.test(a)})):d(u,(function(t){return t.test(a)}));o=t.valueCallback?t.valueCallback(c):c,o=n.valueCallback?n.valueCallback(o):o;var l=e.slice(a.length);return{value:o,rest:l}}}function d(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function f(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}var p,m={ordinalNumber:(p={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(p.matchPattern);if(!n)return null;var r=n[0],i=t.match(p.parsePattern);if(!i)return null;var s=p.valueCallback?p.valueCallback(i[0]):i[0];s=e.valueCallback?e.valueCallback(s):s;var o=t.slice(r.length);return{value:s,rest:o}}),era:h({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:h({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:h({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:h({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:h({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},g={code:"en-US",formatDistance:i,formatLong:o,formatRelative:u,localize:l,match:m,options:{weekStartsOn:0,firstWeekContainsDate:1}}},1218:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(3946),i=n(1820),s=n(3882);function o(t,e){(0,s.Z)(2,arguments);var n=(0,r.Z)(e);return(0,i.Z)(t,-n)}},9013:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(3882);function i(t){(0,r.Z)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"===typeof t||"[object Number]"===e?new Date(t):("string"!==typeof t&&"[object String]"!==e||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},7702:function(t,e,n){"use strict";n.d(e,{hJ:function(){return r.N},v0:function(){return r.n},Aj:function(){return r.t},w7:function(){return r.x}});var r=n(6422);n(4444),n(4258),n(6934),n(909)},5321:function(t,e,n){"use strict";n.d(e,{ET:function(){return Kl},hJ:function(){return Gc},oe:function(){return Gl},JU:function(){return Kc},QT:function(){return Bl},ad:function(){return Jc},b9:function(){return jl},cf:function(){return Yl},Xo:function(){return Fl},IO:function(){return Ll},pl:function(){return $l},r7:function(){return Wl}});var r,i=n(4258),s=n(909),o=n(6934),a=n(4444),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},c={},l=l||{},h=u||self;function d(){}function f(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function T(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function I(){this.s=this.s,this.o=this.o}var E={};I.prototype.s=!1,I.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}(this);delete E[t]}},I.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},_=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"===typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function C(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var N,D=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var x=h.navigator;if(x){var M=x.userAgent;if(M){N=M;break t}}N=""}function P(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function L(t){const e={};for(const n in t)e[n]=t[n];return e}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<U.length;e++)n=U[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}V[" "]=d;var j,q=O(N,"Opera"),Z=O(N,"Trident")||O(N,"MSIE"),H=O(N,"Edge"),B=H||Z,z=O(N,"Gecko")&&!(O(N.toLowerCase(),"webkit")&&!O(N,"Edge"))&&!(O(N,"Trident")||O(N,"MSIE"))&&!O(N,"Edge"),$=O(N.toLowerCase(),"webkit")&&!O(N,"Edge");function W(){var t=h.document;return t?t.documentMode:void 0}t:{var G="",K=function(){var t=N;return z?/rv:([^\);]+)(\)|;)/.exec(t):H?/Edge\/([\d\.]+)/.exec(t):Z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$?/WebKit\/(\S+)/.exec(t):q?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(K&&(G=K?K[1]:""),Z){var Y=W();if(null!=Y&&Y>parseFloat(G)){j=String(Y);break t}}j=G}var Q,X={};function J(){return function(t){var e=X;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){let t=0;const e=D(String(j)).split("."),n=D("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=R(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||R(0==i[2].length,0==s[2].length)||R(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}))}if(h.document&&Z){var tt=W();Q=tt||(parseInt(j,10)||void 0)}else Q=void 0;var et=Q,nt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",d,e),h.removeEventListener("test",d,e)}catch(n){}return t}();function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function it(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(z){t:{try{V(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:st[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&it.Z.h.call(this)}}rt.prototype.h=function(){this.defaultPrevented=!0},T(it,rt);var st={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ot="closure_listenable_"+(1e6*Math.random()|0),at=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++at,this.ca=this.fa=!1}function ct(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function lt(t){this.src=t,this.g={},this.h=0}function ht(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=k(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ct(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}lt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=dt(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new ut(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),pt={};function mt(t,e,n,r,i){if(r&&r.once)return yt(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mt(t,e[s],n,r,i);return null}return n=kt(n),t&&t[ot]?t.N(e,n,p(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=p(i)?!!i.capture:!!i,a=It(t);if(a||(t[ft]=a=new lt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=Tt;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yt(t,e[s],n,r,i);return null}return n=kt(n),t&&t[ot]?t.O(e,n,p(r)?!!r.capture:!!r,i):gt(t,e,n,!0,r,i)}function vt(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)vt(t,e[s],n,r,i);else r=p(r)?!!r.capture:!!r,n=kt(n),t&&t[ot]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=dt(s=t.g[e],n,r,i))&&(ct(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=It(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,n,r,i)),(n=-1<t?e[t]:null)&&wt(n))}function wt(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ot])ht(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=It(e))?(ht(n,t),0==n.h&&(n.src=null,e[ft]=null)):ct(t)}}}function bt(t){return t in pt?pt[t]:pt[t]="on"+t}function Tt(t,e){if(t.ca)t=!0;else{e=new it(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&wt(t),t=n.call(r,e)}return t}function It(t){return(t=t[ft])instanceof lt?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"===typeof t?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function _t(){I.call(this),this.i=new lt(this),this.P=this,this.I=null}function St(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var i=e;F(e=new rt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ct(o,r,!0,e)&&i}if(i=Ct(o=e.g=t,r,!0,e)&&i,i=Ct(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ct(o=e.g=n[s],r,!1,e)&&i}function Ct(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&ht(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}T(_t,I),_t.prototype[ot]=!0,_t.prototype.removeEventListener=function(t,e,n,r){vt(this,t,e,n,r)},_t.prototype.M=function(){if(_t.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ct(n[r]);delete e.g[t],e.h--}}this.I=null},_t.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var At=h.JSON.stringify;function Nt(){var t=Lt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Dt,Ot=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Rt),(t=>t.reset()));class Rt{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function xt(t){h.setTimeout((()=>{throw t}),0)}function Mt(t,e){Dt||function(){var t=h.Promise.resolve(void 0);Dt=function(){t.then(Ut)}}(),Pt||(Dt(),Pt=!0),Lt.add(t,e)}var Pt=!1,Lt=new class{constructor(){this.h=this.g=null}add(t,e){const n=Ot.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Ut(){for(var t;t=Nt();){try{t.h.call(t.g)}catch(n){xt(n)}var e=Ot;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pt=!1}function Ft(t,e){_t.call(this),this.h=t||1,this.g=e||h,this.j=w(this.kb,this),this.l=Date.now()}function Vt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function jt(t,e,n){if("function"===typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}function qt(t){t.g=jt((()=>{t.g=null,t.i&&(t.i=!1,qt(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}T(Ft,_t),(r=Ft.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),St(this,"tick"),this.da&&(Vt(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ft.Z.M.call(this),Vt(this),delete this.g};class Zt extends I{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:qt(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(t){I.call(this),this.h=t,this.g={}}T(Ht,I);var Bt=[];function zt(t,e,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var i=0;i<n.length;i++){var s=mt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $t(t){P(t.g,(function(t,e){this.g.hasOwnProperty(e)&&wt(t)}),t),t.g={}}function Wt(){this.g=!0}function Gt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return At(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Ht.prototype.M=function(){Ht.Z.M.call(this),$t(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.Aa=function(){this.g=!1},Wt.prototype.info=function(){};var Kt={},Yt=null;function Qt(){return Yt=Yt||new _t}function Xt(t){rt.call(this,Kt.Ma,t)}function Jt(t){const e=Qt();St(e,new Xt(e,t))}function te(t,e){rt.call(this,Kt.STAT_EVENT,t),this.stat=e}function ee(t){const e=Qt();St(e,new te(e,t))}function ne(t,e){rt.call(this,Kt.Na,t),this.size=e}function re(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){t()}),e)}Kt.Ma="serverreachability",T(Xt,rt),Kt.STAT_EVENT="statevent",T(te,rt),Kt.Na="timingevent",T(ne,rt);var ie={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},se={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function oe(){}function ae(t){return t.h||(t.h=t.i())}function ue(){}oe.prototype.h=null;var ce,le={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function he(){rt.call(this,"d")}function de(){rt.call(this,"c")}function fe(){}function pe(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ht(this),this.P=ge,t=B?125:void 0,this.W=new Ft(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}T(he,rt),T(de,rt),T(fe,oe),fe.prototype.g=function(){return new XMLHttpRequest},fe.prototype.i=function(){return{}},ce=new fe;var ge=45e3,ye={},ve={};function we(t,e,n){t.K=1,t.v=Ze(Le(e)),t.s=n,t.U=!0,be(t,null)}function be(t,e){t.F=Date.now(),ke(t),t.A=Le(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),en(n.h,"t",r),t.C=0,n=t.l.H,t.h=new me,t.g=rr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Zt(w(t.Ia,t,t.g),t.O)),zt(t.V,t.g,"readystatechange",t.gb),e=t.H?L(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Jt(1),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Te(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Ie(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=Ee(t,n),r==ve){4==e&&(t.o=4,ee(14),i=!1),Gt(t.j,t.m,null,"[Incomplete Response]");break}if(r==ye){t.o=4,ee(15),Gt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Gt(t.j,t.m,r,null),Ne(t,r)}Te(t)&&r!=ve&&r!=ye&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ee(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kn(e),e.L=!0,ee(11))):(Gt(t.j,t.m,n,"[Invalid Chunked Response]"),Ae(t),Ce(t))}function Ee(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ve:(n=Number(e.substring(n,r)),isNaN(n)?ye:(r+=1)+n>e.length?ve:(e=e.substr(r,n),t.C=r+n,e))}function ke(t){t.Y=Date.now()+t.P,_e(t,t.P)}function _e(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=re(w(t.eb,t),e)}function Se(t){t.B&&(h.clearTimeout(t.B),t.B=null)}function Ce(t){0==t.l.G||t.I||Xn(t.l,t)}function Ae(t){Se(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Vt(t.W),$t(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ne(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||cn(n.i,t)))if(n.I=t.N,!t.J&&cn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Qn(n),jn(n)}Gn(n),ee(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=re(w(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else tr(n,11)}else if((t.J||n.g==t)&&Qn(n),!A(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const e=c[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.i;!s.g&&(O(t,"spdy")||O(t,"quic")||O(t,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(ln(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.sa=t,qe(r.F,r.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=nr(r,r.H?r.la:null,r.W),o.J){hn(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Se(a),ke(a)),r.g=o}else Wn(r);0<n.l.length&&Hn(n)}else"stop"!=c[0]&&"close"!=c[0]||tr(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?tr(n,7):Vn(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Jt(4)}catch(c){}}function De(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)_(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(f(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Oe(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Oe)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Re(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];xe(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)xe(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=pe.prototype).setTimeout=function(t){this.P=t},r.gb=function(t){t=t.target;const e=this.L;e&&3==Mn(t)?e.l():this.Ia(t)},r.Ia=function(t){try{if(t==this.g)t:{const l=Mn(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||B||this.g&&(this.h.h||this.g.ga()||Pn(this.g)))){this.I||4!=l||7==e||Jt(8==e||0>=d?3:2),Se(this);var n=this.g.ba();this.N=n;e:if(Te(this)){var r=Pn(this.g);t="";var i=r.length,s=4==Mn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ae(this),Ce(this);var o="";break e}this.h.i=new h.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,ee(12),Ae(this),Ce(this);break t}Gt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ne(this,n)}this.U?(Ie(this,l,o),B&&this.i&&3==l&&(zt(this.V,this.W,"tick",this.fb),this.W.start())):(Gt(this.j,this.m,o,null),Ne(this,o)),4==l&&Ae(this),this.i&&!this.I&&(4==l?Xn(this.l,this):(this.i=!1,ke(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ee(12)):(this.o=0,ee(13)),Ae(this),Ce(this)}}}catch(l){}},r.fb=function(){if(this.g){var t=Mn(this.g),e=this.g.ga();this.C<e.length&&(Se(this),Ie(this,t,e),this.i&&4!=t&&ke(this))}},r.cancel=function(){this.I=!0,Ae(this)},r.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Jt(3),ee(17)),Ae(this),this.o=2,Ce(this)):_e(this,this.Y-t)},(r=Oe.prototype).R=function(){Re(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},r.T=function(){return Re(this),this.g.concat()},r.get=function(t,e){return xe(this.h,t)?this.h[t]:e},r.set=function(t,e){xe(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},r.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pe(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Pe){this.g=void 0!==e?e:t.g,Ue(this,t.j),this.s=t.s,Fe(this,t.i),Ve(this,t.m),this.l=t.l,e=t.h;var n=new Qe;n.i=e.i,e.g&&(n.g=new Oe(e.g),n.h=e.h),je(this,n),this.o=t.o}else t&&(n=String(t).match(Me))?(this.g=!!e,Ue(this,n[1]||"",!0),this.s=He(n[2]||""),Fe(this,n[3]||"",!0),Ve(this,n[4]),this.l=He(n[5]||"",!0),je(this,n[6]||"",!0),this.o=He(n[7]||"")):(this.g=!!e,this.h=new Qe(null,this.g))}function Le(t){return new Pe(t)}function Ue(t,e,n){t.j=n?He(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fe(t,e,n){t.i=n?He(e,!0):e}function Ve(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function je(t,e,n){e instanceof Qe?(t.h=e,function(t,e){e&&!t.j&&(Xe(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),en(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Be(e,Ke)),t.h=new Qe(e,t.g))}function qe(t,e,n){t.h.set(e,n)}function Ze(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function He(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Be(e,$e,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Be(e,$e,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?Ge:We,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Be(n,Ye)),t.join("")};var $e=/[#\/\?@]/g,We=/[#\?:]/g,Ge=/[#\?]/g,Ke=/[#\?@]/g,Ye=/#/g;function Qe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xe(t){t.g||(t.g=new Oe,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Je(t,e){Xe(t),e=nn(t,e),xe(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,xe((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Re(t)))}function tn(t,e){return Xe(t),e=nn(t,e),xe(t.g.h,e)}function en(t,e,n){Je(t,e),0<n.length&&(t.i=null,t.g.set(nn(t,e),C(n)),t.h+=n.length)}function nn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(r=Qe.prototype).add=function(t,e){Xe(this),this.i=null,t=nn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},r.forEach=function(t,e){Xe(this),this.g.forEach((function(n,r){_(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.T=function(){Xe(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},r.R=function(t){Xe(this);var e=[];if("string"===typeof t)tn(this,t)&&(e=S(e,this.g.get(nn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},r.set=function(t,e){return Xe(this),this.i=null,tn(this,t=nn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},r.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function rn(t){this.l=t||on,h.PerformanceNavigationTiming?t=0<(t=h.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sn,on=10;function an(t){return!!t.h||!!t.g&&t.g.size>=t.j}function un(t){return t.h?1:t.g?t.g.size:0}function cn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ln(t,e){t.g?t.g.add(e):t.h=e}function hn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function dn(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return C(t.i)}function fn(){}function pn(){this.g=new fn}function mn(t,e,n){const r=n||"";try{De(t,(function(t,n){let i=t;p(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function yn(t){this.l=t.$b||null,this.j=t.ib||!1}function vn(t,e){_t.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=wn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},fn.prototype.stringify=function(t){return h.JSON.stringify(t,void 0)},fn.prototype.parse=function(t){return h.JSON.parse(t,void 0)},T(yn,oe),yn.prototype.g=function(){return new vn(this.l,this.j)},yn.prototype.i=(sn={},function(){return sn}),T(vn,_t);var wn=0;function bn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Tn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,In(t)}function In(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(r=vn.prototype).open=function(t,e){if(this.readyState!=wn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,In(this)},r.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||h).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tn(this)),this.readyState=wn},r.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tn(this):In(this),3==this.readyState&&bn(this)}},r.Ua=function(t){this.g&&(this.response=this.responseText=t,Tn(this))},r.Ta=function(t){this.g&&(this.response=t,Tn(this))},r.ha=function(){this.g&&Tn(this)},r.setRequestHeader=function(t,e){this.v.append(t,e)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var En=h.JSON.parse;function kn(t){_t.call(this),this.headers=new Oe,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_n,this.K=this.L=!1}T(kn,_t);var _n="",Sn=/^https?$/i,Cn=["POST","PUT"];function An(t){return"content-type"==t.toLowerCase()}function Nn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Dn(t),Rn(t)}function Dn(t){t.D||(t.D=!0,St(t,"complete"),St(t,"error"))}function On(t){if(t.h&&"undefined"!=typeof l&&(!t.C[1]||4!=Mn(t)||2!=t.ba()))if(t.v&&4==Mn(t))jt(t.Fa,0,t);else if(St(t,"readystatechange"),4==Mn(t)){t.h=!1;try{const u=t.ba();t:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var i=String(t.H).match(Me)[1]||null;if(!i&&h.self&&h.self.location){var s=h.self.location.protocol;i=s.substr(0,s.length-1)}r=!Sn.test(i?i.toLowerCase():"")}n=r}if(n)St(t,"complete"),St(t,"success");else{t.m=6;try{var o=2<Mn(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.ba()+"]",Dn(t)}}finally{Rn(t)}}}function Rn(t,e){if(t.g){xn(t);const r=t.g,i=t.C[0]?d:null;t.g=null,t.C=null,e||St(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function xn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(h.clearTimeout(t.A),t.A=null)}function Mn(t){return t.g?t.g.readyState:0}function Pn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case _n:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ln(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){let e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function Un(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fn(t){this.za=0,this.l=[],this.h=new Wt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Un("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Un("baseRetryDelayMs",5e3,t),this.$a=Un("retryDelaySeedMs",1e4,t),this.Ya=Un("forwardChannelMaxRetries",2,t),this.ra=Un("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new rn(t&&t.concurrentRequestLimit),this.Ca=new pn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Vn(t){if(qn(t),3==t.G){var e=t.V++,n=Le(t.F);qe(n,"SID",t.J),qe(n,"RID",e),qe(n,"TYPE","terminate"),zn(t,n),(e=new pe(t,t.h,e,void 0)).K=2,e.v=Ze(Le(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(e.v.toString(),"")),!n&&h.Image&&((new Image).src=e.v,n=!0),n||(e.g=rr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ke(e)}er(t)}function jn(t){t.g&&(Kn(t),t.g.cancel(),t.g=null)}function qn(t){jn(t),t.u&&(h.clearTimeout(t.u),t.u=null),Qn(t),t.i.cancel(),t.m&&("number"===typeof t.m&&h.clearTimeout(t.m),t.m=null)}function Zn(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Hn(t)}function Hn(t){an(t.i)||t.m||(t.m=!0,Mt(t.Ha,t),t.C=0)}function Bn(t,e){var n;n=e?e.m:t.V++;const r=Le(t.F);qe(r,"SID",t.J),qe(r,"RID",n),qe(r,"AID",t.U),zn(t,r),t.o&&t.s&&Ln(r,t.o,t.s),n=new pe(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=$n(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ln(t.i,n),we(n,r,e)}function zn(t,e){t.j&&De({},(function(t,n){qe(e,n,t)}))}function $n(t,e,n){n=Math.min(t.l.length,n);var r=t.j?w(t.j.Oa,t.j,t):null;t:{var i=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=e,0>n)e=Math.max(0,i[o].h-100),s=!1;else try{mn(a,t,"req"+n+"_")}catch(Pr){r&&r(a)}}if(s){r=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,r}function Wn(t){t.g||t.u||(t.Y=1,Mt(t.Ga,t),t.A=0)}function Gn(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=re(w(t.Ga,t),Jn(t,t.A)),t.A++,!0)}function Kn(t){null!=t.B&&(h.clearTimeout(t.B),t.B=null)}function Yn(t){t.g=new pe(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Le(t.oa);qe(e,"RID","rpc"),qe(e,"SID",t.J),qe(e,"CI",t.N?"0":"1"),qe(e,"AID",t.U),zn(t,e),qe(e,"TYPE","xmlhttp"),t.o&&t.s&&Ln(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ze(Le(e)),n.s=null,n.U=!0,be(n,t)}function Qn(t){null!=t.v&&(h.clearTimeout(t.v),t.v=null)}function Xn(t,e){var n=null;if(t.g==e){Qn(t),Kn(t),t.g=null;var r=2}else{if(!cn(t.i,e))return;n=e.D,hn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;St(r=Qt(),new ne(r,n,e,i)),Hn(t)}else Wn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(un(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=re(w(t.Ha,t,e),Jn(t,t.C)),t.C++,!0))}(t,e)||2==r&&Gn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:tr(t,5);break;case 4:tr(t,10);break;case 3:tr(t,6);break;default:tr(t,2)}}function Jn(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function tr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=w(t.jb,t);n||(n=new Pe("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ue(n,"https"),Ze(n)),function(t,e){const n=new Wt;if(h.Image){const r=new Image;r.onload=b(gn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(gn,n,r,"TestLoadImage: error",!1,e),r.onabort=b(gn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(gn,n,r,"TestLoadImage: timeout",!1,e),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ee(2);t.G=0,t.j&&t.j.va(e),er(t),qn(t)}function er(t){t.G=0,t.I=-1,t.j&&(0==dn(t.i).length&&0==t.l.length||(t.i.i.length=0,C(t.l),t.l.length=0),t.j.ua())}function nr(t,e,n){let r=function(t){return t instanceof Pe?Le(t):new Pe(t,void 0)}(n);if(""!=r.i)e&&Fe(r,e+"."+r.i),Ve(r,r.m);else{const t=h.location;r=function(t,e,n,r){var i=new Pe(null,void 0);return t&&Ue(i,t),e&&Fe(i,e),n&&Ve(i,n),r&&(i.l=r),i}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&P(t.aa,(function(t,e){qe(r,e,t)})),e=t.D,n=t.sa,e&&n&&qe(r,e,n),qe(r,"VER",t.ma),zn(t,r),r}function rr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new kn(new yn({ib:!0})):new kn(t.qa)).L=t.H,e}function ir(){}function sr(){if(Z&&!(10<=Number(et)))throw Error("Environmental error: no available transport.")}function or(t,e){_t.call(this),this.g=new Fn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new cr(this)}function ar(t){he.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ur(){de.call(this),this.status=1}function cr(t){this.g=t}(r=kn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ce.g(),this.C=this.u?ae(this.u):ae(ce),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Nn(this,s)}t=n||"";const i=new Oe(this.headers);r&&De(r,(function(t,e){i.set(e,t)})),r=function(t){t:{var e=An;const n=t.length,r="string"===typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.T()),n=h.FormData&&t instanceof h.FormData,!(0<=k(Cn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xn(this),0<this.B&&((this.K=function(t){return Z&&J()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=jt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Nn(this,s)}},r.pa=function(){"undefined"!=typeof l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))},r.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,St(this,"complete"),St(this,"abort"),Rn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rn(this,!0)),kn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?On(this):this.cb())},r.cb=function(){On(this)},r.ba=function(){try{return 2<Mn(this)?this.g.status:-1}catch(sn){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(sn){return""}},r.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Fn.prototype).ma=8,r.G=1,r.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},r.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new pe(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=L(s),F(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=$n(this,i,e),qe(n=Le(this.F),"RID",t),qe(n,"CVER",22),this.D&&qe(n,"X-HTTP-Session-Id",this.D),zn(this,n),this.o&&s&&Ln(n,this.o,s),ln(this.i,i),this.Ra&&qe(n,"TYPE","init"),this.ja?(qe(n,"$req",e),qe(n,"SID","null"),i.$=!0,we(i,n,null)):we(i,n,e),this.G=2}}else 3==this.G&&(t?Bn(this,t):0==this.l.length||an(this.i)||Bn(this))},r.Ga=function(){if(this.u=null,Yn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=re(w(this.bb,this),t)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ee(10),jn(this),Yn(this))},r.ab=function(){null!=this.v&&(this.v=null,jn(this),Gn(this),ee(19))},r.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ee(2)):(this.h.info("Failed to ping google.com"),ee(1))},(r=ir.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},sr.prototype.g=function(t,e){return new or(t,e)},T(or,_t),or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Mt(w(t.hb,t,e))),ee(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=nr(t,null,t.W),Hn(t)},or.prototype.close=function(){Vn(this.g)},or.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,Zn(this.g,e)}else this.v?((e={}).__data__=At(t),Zn(this.g,e)):Zn(this.g,t)},or.prototype.M=function(){this.g.j=null,delete this.j,Vn(this.g),delete this.g,or.Z.M.call(this)},T(ar,he),T(ur,de),T(cr,ir),cr.prototype.xa=function(){St(this.g,"a")},cr.prototype.wa=function(t){St(this.g,new ar(t))},cr.prototype.va=function(t){St(this.g,new ur(t))},cr.prototype.ua=function(){St(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,se.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",_t.prototype.listen=_t.prototype.N,kn.prototype.listenOnce=kn.prototype.O,kn.prototype.getLastError=kn.prototype.La,kn.prototype.getLastErrorCode=kn.prototype.Da,kn.prototype.getStatus=kn.prototype.ba,kn.prototype.getResponseJson=kn.prototype.Qa,kn.prototype.getResponseText=kn.prototype.ga,kn.prototype.send=kn.prototype.ea;var lr=c.createWebChannelTransport=function(){return new sr},hr=c.getStatEventTarget=function(){return Qt()},dr=c.ErrorCode=ie,fr=c.EventType=se,pr=c.Event=Kt,mr=c.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gr=c.FetchXmlHttpFactory=yn,yr=c.WebChannel=ue,vr=c.XhrIo=kn;n(3454);const wr="@firebase/firestore";class br{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let Tr="9.1.3";const Ir=new o.Yd("@firebase/firestore");function Er(){return Ir.logLevel}function kr(t,...e){if(Ir.logLevel<=o.in.DEBUG){const n=e.map(Cr);Ir.debug(`Firestore (${Tr}): ${t}`,...n)}}function _r(t,...e){if(Ir.logLevel<=o.in.ERROR){const n=e.map(Cr);Ir.error(`Firestore (${Tr}): ${t}`,...n)}}function Sr(t,...e){if(Ir.logLevel<=o.in.WARN){const n=e.map(Cr);Ir.warn(`Firestore (${Tr}): ${t}`,...n)}}function Cr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Ar(t="Unexpected state"){const e=`FIRESTORE (${Tr}) INTERNAL ASSERTION FAILED: `+t;throw _r(e),new Error(e)}function Nr(t,e){t||Ar()}function Dr(t,e){return t}const Or={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rr extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Mr{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class Pr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(br.UNAUTHENTICATED)))}shutdown(){}}class Lr{constructor(t){this.t=t,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xr,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{kr("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(kr("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xr)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(kr("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Nr("string"==typeof e.accessToken),new Mr(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Nr(null===t||"string"==typeof t),new br(t)}}class Ur{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=br.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class Fr{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new Ur(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.g(t),this.p=t=>e.writeSequenceNumber(t))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function jr(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Vr.T=-1;class qr{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=jr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function Zr(t,e){return t<e?-1:t>e?1:0}function Hr(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class Br{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Rr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Rr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Rr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Br.fromMillis(Date.now())}static fromDate(t){return Br.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Br(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Zr(this.nanoseconds,t.nanoseconds):Zr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new zr(t)}static min(){return new zr(new Br(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $r(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Kr{constructor(t,e,n){void 0===e?e=0:e>t.length&&Ar(),void 0===n?n=t.length-e:n>t.length-e&&Ar(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Kr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Kr?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Yr extends Kr{construct(t,e,n){return new Yr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Rr(Or.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new Yr(e)}static emptyPath(){return new Yr([])}}const Qr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends Kr{construct(t,e,n){return new Xr(t,e,n)}static isValidIdentifier(t){return Qr.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xr(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Rr(Or.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new Rr(Or.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Rr(Or.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new Rr(Or.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xr(e)}static emptyPath(){return new Xr([])}}class Jr{constructor(t){this.fields=t,t.sort(Xr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Hr(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class ti{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ti(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ti(e)}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const ei=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(Nr(!!t),"string"==typeof t){let e=0;const n=ei.exec(t);if(Nr(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ri(t.seconds),nanos:ri(t.nanos)}}function ri(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ii(t){return"string"==typeof t?ti.fromBase64String(t):ti.fromUint8Array(t)}function si(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oi(t){const e=t.mapValue.fields.__previous_value__;return si(e)?oi(e):e}function ai(t){const e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Br(e.seconds,e.nanos)}function ui(t){return null==t}function ci(t){return 0===t&&1/t==-1/0}function li(t){return"number"==typeof t&&Number.isInteger(t)&&!ci(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class hi{constructor(t){this.path=t}static fromPath(t){return new hi(Yr.fromString(t))}static fromName(t){return new hi(Yr.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Yr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Yr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new hi(new Yr(t.slice()))}}function di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?si(t)?4:10:Ar()}function fi(t,e){const n=di(t);if(n!==di(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ai(t).isEqual(ai(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=ni(t.timestampValue),r=ni(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ii(t.bytesValue).isEqual(ii(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ri(t.geoPointValue.latitude)===ri(e.geoPointValue.latitude)&&ri(t.geoPointValue.longitude)===ri(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ri(t.integerValue)===ri(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=ri(t.doubleValue),r=ri(e.doubleValue);return n===r?ci(n)===ci(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Hr(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if($r(n)!==$r(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fi(n[i],r[i])))return!1;return!0}(t,e);default:return Ar()}}function pi(t,e){return void 0!==(t.values||[]).find((t=>fi(t,e)))}function mi(t,e){const n=di(t),r=di(e);if(n!==r)return Zr(n,r);switch(n){case 0:return 0;case 1:return Zr(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=ri(t.integerValue||t.doubleValue),r=ri(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return gi(t.timestampValue,e.timestampValue);case 4:return gi(ai(t),ai(e));case 5:return Zr(t.stringValue,e.stringValue);case 6:return function(t,e){const n=ii(t),r=ii(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=Zr(n[i],r[i]);if(0!==t)return t}return Zr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Zr(ri(t.latitude),ri(e.latitude));return 0!==n?n:Zr(ri(t.longitude),ri(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=mi(n[i],r[i]);if(t)return t}return Zr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=Zr(r[o],s[o]);if(0!==t)return t;const e=mi(n[r[o]],i[s[o]]);if(0!==e)return e}return Zr(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ar()}}function gi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zr(t,e);const n=ni(t),r=ni(e),i=Zr(n.seconds,r.seconds);return 0!==i?i:Zr(n.nanos,r.nanos)}function yi(t){return vi(t)}function vi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ni(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ii(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,hi.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=vi(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${vi(t.fields[i])}`;return n+"}"}(t.mapValue):Ar();var e,n}function wi(t){return!!t&&"integerValue"in t}function bi(t){return!!t&&"arrayValue"in t}function Ti(t){return!!t&&"nullValue"in t}function Ii(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ei(t){return!!t&&"mapValue"in t}function ki(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=ki(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ki(t.arrayValue.values[n]);return e}return Object.assign({},t)}class _i{constructor(t){this.value=t}static empty(){return new _i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Ei(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ki(e)}setAll(t){let e=Xr.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=ki(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Ei(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Ei(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Wr(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new _i(ki(this.value))}}function Si(t){const e=[];return Wr(t.fields,((t,n)=>{const r=new Xr([t]);if(Ei(n)){const t=Si(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new Jr(e)}class Ci{constructor(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(t){return new Ci(t,0,zr.min(),_i.empty(),0)}static newFoundDocument(t,e,n){return new Ci(t,1,e,n,0)}static newNoDocument(t,e){return new Ci(t,2,e,_i.empty(),0)}static newUnknownDocument(t,e){return new Ci(t,3,e,_i.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ci&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Ci(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ai{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function Ni(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ai(t,e,n,r,i,s,o)}function Di(t){const e=Dr(t);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>function(t){return t.field.canonicalString()+t.op.toString()+yi(t.value)}(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),ui(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Hi(e.startAt)),e.endAt&&(t+="|ub:",t+=Hi(e.endAt)),e.A=t}return e.A}function Oi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!zi(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!fi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wi(t.startAt,e.startAt)&&Wi(t.endAt,e.endAt)}function Ri(t){return hi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class xi extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,n):new Mi(t,e,n):"array-contains"===e?new Fi(t,n):"in"===e?new Vi(t,n):"not-in"===e?new ji(t,n):"array-contains-any"===e?new qi(t,n):new xi(t,e,n)}static R(t,e,n){return"in"===e?new Pi(t,n):new Li(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(mi(e,this.value)):null!==e&&di(this.value)===di(e)&&this.P(mi(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ar()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Mi extends xi{constructor(t,e,n){super(t,e,n),this.key=hi.fromName(n.referenceValue)}matches(t){const e=hi.comparator(t.key,this.key);return this.P(e)}}class Pi extends xi{constructor(t,e){super(t,"in",e),this.keys=Ui("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Li extends xi{constructor(t,e){super(t,"not-in",e),this.keys=Ui("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Ui(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>hi.fromName(t.referenceValue)))}class Fi extends xi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return bi(e)&&pi(e.arrayValue,this.value)}}class Vi extends xi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&pi(this.value.arrayValue,e)}}class ji extends xi{constructor(t,e){super(t,"not-in",e)}matches(t){if(pi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!pi(this.value.arrayValue,e)}}class qi extends xi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!bi(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>pi(this.value.arrayValue,t)))}}class Zi{constructor(t,e){this.position=t,this.before=e}}function Hi(t){return`${t.before?"b":"a"}:${t.position.map((t=>yi(t))).join(",")}`}class Bi{constructor(t,e="asc"){this.field=t,this.dir=e}}function zi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $i(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?hi.comparator(hi.fromName(o.referenceValue),n.key):mi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Wi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}class Gi{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null,this.startAt,this.endAt}}function Ki(t,e,n,r,i,s,o,a){return new Gi(t,e,n,r,i,s,o,a)}function Yi(t){return new Gi(t)}function Qi(t){return!ui(t.limit)&&"F"===t.limitType}function Xi(t){return!ui(t.limit)&&"L"===t.limitType}function Ji(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ts(t){for(const e of t.filters)if(e.v())return e.field;return null}function es(t){return null!==t.collectionGroup}function ns(t){const e=Dr(t);if(null===e.V){e.V=[];const t=ts(e),n=Ji(e);if(null!==t&&null===n)t.isKeyField()||e.V.push(new Bi(t)),e.V.push(new Bi(Xr.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.V.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Bi(Xr.keyField(),t))}}}return e.V}function rs(t){const e=Dr(t);if(!e.S)if("F"===e.limitType)e.S=Ni(e.path,e.collectionGroup,ns(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of ns(e)){const e="desc"===i.dir?"asc":"desc";t.push(new Bi(i.field,e))}const n=e.endAt?new Zi(e.endAt.position,!e.endAt.before):null,r=e.startAt?new Zi(e.startAt.position,!e.startAt.before):null;e.S=Ni(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.S}function is(t,e,n){return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ss(t,e){return Oi(rs(t),rs(e))&&t.limitType===e.limitType}function os(t){return`${Di(rs(t))}|lt:${t.limitType}`}function as(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${yi(e.value)}`;var e})).join(", ")}]`),ui(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: "+Hi(t.startAt)),t.endAt&&(e+=", endAt: "+Hi(t.endAt)),`Target(${e})`}(rs(t))}; limitType=${t.limitType})`}function us(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):hi.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!$i(t.startAt,ns(t),e))&&(!t.endAt||!$i(t.endAt,ns(t),e))}(t,e)}function cs(t){return(e,n)=>{let r=!1;for(const i of ns(t)){const t=ls(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function ls(t,e,n){const r=t.field.isKeyField()?hi.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?mi(r,i):Ar()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ar()}}function hs(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ci(e)?"-0":e}}function ds(t){return{integerValue:""+t}}function fs(t,e){return li(e)?ds(e):hs(t,e)}class ps{constructor(){this._=void 0}}function ms(t,e,n){return t instanceof vs?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ws?bs(t,e):t instanceof Ts?Is(t,e):function(t,e){const n=ys(t,e),r=ks(n)+ks(t.C);return wi(n)&&wi(t.C)?ds(r):hs(t.N,r)}(t,e)}function gs(t,e,n){return t instanceof ws?bs(t,e):t instanceof Ts?Is(t,e):n}function ys(t,e){return t instanceof Es?wi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class vs extends ps{}class ws extends ps{constructor(t){super(),this.elements=t}}function bs(t,e){const n=_s(e);for(const r of t.elements)n.some((t=>fi(t,r)))||n.push(r);return{arrayValue:{values:n}}}class Ts extends ps{constructor(t){super(),this.elements=t}}function Is(t,e){let n=_s(e);for(const r of t.elements)n=n.filter((t=>!fi(t,r)));return{arrayValue:{values:n}}}class Es extends ps{constructor(t,e){super(),this.N=t,this.C=e}}function ks(t){return ri(t.integerValue||t.doubleValue)}function _s(t){return bi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ss{constructor(t,e){this.version=t,this.transformResults=e}}class Cs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Cs}static exists(t){return new Cs(void 0,t)}static updateTime(t){return new Cs(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function As(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ns{}function Ds(t,e,n){t instanceof Ps?function(t,e,n){const r=t.value.clone(),i=Fs(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(t,e,n){if(!As(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Fs(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Us(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Os(t,e,n){t instanceof Ps?function(t,e,n){if(!As(t.precondition,e))return;const r=t.value.clone(),i=Vs(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ms(e),r).setHasLocalMutations()}(t,e,n):t instanceof Ls?function(t,e,n){if(!As(t.precondition,e))return;const r=Vs(t.fieldTransforms,n,e),i=e.data;i.setAll(Us(t)),i.setAll(r),e.convertToFoundDocument(Ms(e),i).setHasLocalMutations()}(t,e,n):function(t,e){As(t.precondition,e)&&e.convertToNoDocument(zr.min())}(t,e)}function Rs(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=ys(r.transform,t||null);null!=i&&(null==n&&(n=_i.empty()),n.set(r.field,i))}return n||null}function xs(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Hr(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ws&&e instanceof ws||t instanceof Ts&&e instanceof Ts?Hr(t.elements,e.elements,fi):t instanceof Es&&e instanceof Es?fi(t.C,e.C):t instanceof vs&&e instanceof vs}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ms(t){return t.isFoundDocument()?t.version:zr.min()}class Ps extends Ns{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Ls extends Ns{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Us(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Fs(t,e,n){const r=new Map;Nr(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,gs(o,a,n[i]))}return r}function Vs(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,ms(t,s,e))}return r}class js extends Ns{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class qs extends Ns{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class Zs{constructor(t){this.count=t}}var Hs,Bs;function zs(t){switch(t){default:return Ar();case Or.CANCELLED:case Or.UNKNOWN:case Or.DEADLINE_EXCEEDED:case Or.RESOURCE_EXHAUSTED:case Or.INTERNAL:case Or.UNAVAILABLE:case Or.UNAUTHENTICATED:return!1;case Or.INVALID_ARGUMENT:case Or.NOT_FOUND:case Or.ALREADY_EXISTS:case Or.PERMISSION_DENIED:case Or.FAILED_PRECONDITION:case Or.ABORTED:case Or.OUT_OF_RANGE:case Or.UNIMPLEMENTED:case Or.DATA_LOSS:return!0}}function $s(t){if(void 0===t)return _r("GRPC error has no .code"),Or.UNKNOWN;switch(t){case Hs.OK:return Or.OK;case Hs.CANCELLED:return Or.CANCELLED;case Hs.UNKNOWN:return Or.UNKNOWN;case Hs.DEADLINE_EXCEEDED:return Or.DEADLINE_EXCEEDED;case Hs.RESOURCE_EXHAUSTED:return Or.RESOURCE_EXHAUSTED;case Hs.INTERNAL:return Or.INTERNAL;case Hs.UNAVAILABLE:return Or.UNAVAILABLE;case Hs.UNAUTHENTICATED:return Or.UNAUTHENTICATED;case Hs.INVALID_ARGUMENT:return Or.INVALID_ARGUMENT;case Hs.NOT_FOUND:return Or.NOT_FOUND;case Hs.ALREADY_EXISTS:return Or.ALREADY_EXISTS;case Hs.PERMISSION_DENIED:return Or.PERMISSION_DENIED;case Hs.FAILED_PRECONDITION:return Or.FAILED_PRECONDITION;case Hs.ABORTED:return Or.ABORTED;case Hs.OUT_OF_RANGE:return Or.OUT_OF_RANGE;case Hs.UNIMPLEMENTED:return Or.UNIMPLEMENTED;case Hs.DATA_LOSS:return Or.DATA_LOSS;default:return Ar()}}(Bs=Hs||(Hs={}))[Bs.OK=0]="OK",Bs[Bs.CANCELLED=1]="CANCELLED",Bs[Bs.UNKNOWN=2]="UNKNOWN",Bs[Bs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bs[Bs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bs[Bs.NOT_FOUND=5]="NOT_FOUND",Bs[Bs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bs[Bs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bs[Bs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bs[Bs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bs[Bs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bs[Bs.ABORTED=10]="ABORTED",Bs[Bs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bs[Bs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bs[Bs.INTERNAL=13]="INTERNAL",Bs[Bs.UNAVAILABLE=14]="UNAVAILABLE",Bs[Bs.DATA_LOSS=15]="DATA_LOSS";class Ws{constructor(t,e){this.comparator=t,this.root=e||Ks.EMPTY}insert(t,e){return new Ws(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ks.BLACK,null,null))}remove(t){return new Ws(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ks.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gs(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gs(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gs(this.root,t,this.comparator,!0)}}class Gs{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ks{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Ks.RED,this.left=null!=r?r:Ks.EMPTY,this.right=null!=i?i:Ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Ks(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ks.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ks.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ar();if(this.right.isRed())throw Ar();const t=this.left.check();if(t!==this.right.check())throw Ar();return t+(this.isRed()?0:1)}}Ks.EMPTY=null,Ks.RED=!0,Ks.BLACK=!1,Ks.EMPTY=new class{constructor(){this.size=0}get key(){throw Ar()}get value(){throw Ar()}get color(){throw Ar()}get left(){throw Ar()}get right(){throw Ar()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ks(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ys{constructor(t){this.comparator=t,this.data=new Ws(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Qs(this.data.getIterator())}getIteratorFrom(t){return new Qs(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Ys))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ys(this.comparator);return e.data=t,e}}class Qs{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Xs=new Ws(hi.comparator);function Js(){return Xs}const to=new Ws(hi.comparator);function eo(){return to}const no=new Ws(hi.comparator);function ro(){return no}const io=new Ys(hi.comparator);function so(...t){let e=io;for(const n of t)e=e.add(n);return e}const oo=new Ys(Zr);function ao(){return oo}class uo{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,co.createSynthesizedTargetChangeForCurrentChange(t,e)),new uo(zr.min(),n,ao(),Js(),so())}}class co{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new co(ti.EMPTY_BYTE_STRING,e,so(),so(),so())}}class lo{constructor(t,e,n,r){this.k=t,this.removedTargetIds=e,this.key=n,this.$=r}}class ho{constructor(t,e){this.targetId=t,this.O=e}}class fo{constructor(t,e,n=ti.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class po{constructor(){this.F=0,this.M=yo(),this.L=ti.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=so(),e=so(),n=so();return this.M.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ar()}})),new co(this.L,this.B,t,e,n)}G(){this.U=!1,this.M=yo()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class mo{constructor(t){this.tt=t,this.et=new Map,this.nt=Js(),this.st=go(),this.it=new Ys(Zr)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ct(t){this.forEachTarget(t,(e=>{const n=this.ut(e);switch(t.state){case 0:this.ht(e)&&n.j(t.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(t.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(e);break;case 3:this.ht(e)&&(n.Z(),n.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),n.j(t.resumeToken));break;default:Ar()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach(((t,n)=>{this.ht(n)&&e(n)}))}ft(t){const e=t.targetId,n=t.O.count,r=this.dt(e);if(r){const t=r.target;if(Ri(t))if(0===n){const n=new hi(t.path);this.at(e,n,Ci.newNoDocument(n,zr.min()))}else Nr(1===n);else this.wt(e)!==n&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach(((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Ri(i.target)){const e=new hi(i.target.path);null!==this.nt.get(e)||this.gt(r,e)||this.at(r,e,Ci.newNoDocument(e,t))}n.K&&(e.set(r,n.W()),n.G())}}));let n=so();this.st.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.dt(t);return!e||2===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))}));const r=new uo(t,e,this.it,this.nt,n);return this.nt=Js(),this.st=go(),this.it=new Ys(Zr),r}ot(t,e){if(!this.ht(t))return;const n=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,n),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}at(t,e,n){if(!this.ht(t))return;const r=this.ut(t);this.gt(t,e)?r.H(e,1):r.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),n&&(this.nt=this.nt.insert(e,n))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new po,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new Ys(Zr),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||kr("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new po),this.tt.getRemoteKeysForTarget(t).forEach((e=>{this.at(t,e,null)}))}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function go(){return new Ws(hi.comparator)}function yo(){return new Ws(hi.comparator)}const vo={asc:"ASCENDING",desc:"DESCENDING"},wo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class bo{constructor(t,e){this.databaseId=t,this.D=e}}function To(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Io(t,e){return t.D?e.toBase64():e.toUint8Array()}function Eo(t,e){return To(t,e.toTimestamp())}function ko(t){return Nr(!!t),zr.fromTimestamp(function(t){const e=ni(t);return new Br(e.seconds,e.nanos)}(t))}function _o(t,e){return function(t){return new Yr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function So(t){const e=Yr.fromString(t);return Nr(Go(e)),e}function Co(t,e){return _o(t.databaseId,e.path)}function Ao(t,e){const n=So(e);if(n.get(1)!==t.databaseId.projectId)throw new Rr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Rr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new hi(Ro(n))}function No(t,e){return _o(t.databaseId,e)}function Do(t){const e=So(t);return 4===e.length?Yr.emptyPath():Ro(e)}function Oo(t){return new Yr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ro(t){return Nr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xo(t,e,n){return{name:Co(t,e),fields:n.value.mapValue.fields}}function Mo(t,e){let n;if(e instanceof Ps)n={update:xo(t,e.key,e.value)};else if(e instanceof js)n={delete:Co(t,e.key)};else if(e instanceof Ls)n={update:xo(t,e.key,e.data),updateMask:Wo(e.fieldMask)};else{if(!(e instanceof qs))return Ar();n={verify:Co(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof vs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ws)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ts)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Es)return{fieldPath:e.field.canonicalString(),increment:n.C};throw Ar()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Eo(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ar()}(t,e.precondition)),n}function Po(t,e){return{documents:[No(t,e.path)]}}function Lo(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=No(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=No(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(Ii(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(Ti(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ii(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(Ti(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:Zo(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Ho(t.field),direction:qo(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.D||ui(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Vo(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Vo(e.endAt)),n}function Uo(t){let e=Do(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Nr(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=Fo(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new Bi(Bo(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,ui(e)?null:e}(n.limit));let u=null;n.startAt&&(u=jo(n.startAt));let c=null;return n.endAt&&(c=jo(n.endAt)),Ki(e,i,o,s,a,"F",u,c)}function Fo(t){return t?void 0!==t.unaryFilter?[$o(t)]:void 0!==t.fieldFilter?[zo(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>Fo(t))).reduce(((t,e)=>t.concat(e))):Ar():[]}function Vo(t){return{before:t.before,values:t.position}}function jo(t){const e=!!t.before,n=t.values||[];return new Zi(n,e)}function qo(t){return vo[t]}function Zo(t){return wo[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function Bo(t){return Xr.fromServerFormat(t.fieldPath)}function zo(t){return xi.create(Bo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ar()}}(t.fieldFilter.op),t.fieldFilter.value)}function $o(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Bo(t.unaryFilter.field);return xi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Bo(t.unaryFilter.field);return xi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bo(t.unaryFilter.field);return xi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bo(t.unaryFilter.field);return xi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ar()}}function Wo(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Go(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ko(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qo(e)),e=Yo(t.get(n),e);return Qo(e)}function Yo(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function Qo(t){return t+"\x01\x01"}class Xo{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}Xo.store="owner",Xo.key="owner";class Jo{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}Jo.store="mutationQueues",Jo.keyPath="userId";class ta{constructor(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}ta.store="mutations",ta.keyPath="batchId",ta.userMutationsIndex="userMutationsIndex",ta.userMutationsKeyPath=["userId","batchId"];class ea{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Ko(e)]}static key(t,e,n){return[t,Ko(e),n]}}ea.store="documentMutations",ea.PLACEHOLDER=new ea;class na{constructor(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}na.store="remoteDocuments",na.readTimeIndex="readTimeIndex",na.readTimeIndexPath="readTime",na.collectionReadTimeIndex="collectionReadTimeIndex",na.collectionReadTimeIndexPath=["parentPath","readTime"];class ra{constructor(t){this.byteSize=t}}ra.store="remoteDocumentGlobal",ra.key="remoteDocumentGlobalKey";class ia{constructor(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}ia.store="targets",ia.keyPath="targetId",ia.queryTargetsIndexName="queryTargetsIndex",ia.queryTargetsKeyPath=["canonicalId","targetId"];class sa{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}sa.store="targetDocuments",sa.keyPath=["targetId","path"],sa.documentTargetsIndex="documentTargetsIndex",sa.documentTargetsKeyPath=["path","targetId"];class oa{constructor(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}oa.key="targetGlobalKey",oa.store="targetGlobal";class aa{constructor(t,e){this.collectionId=t,this.parent=e}}aa.store="collectionParents",aa.keyPath=["collectionId","parent"];class ua{constructor(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}}ua.store="clientMetadata",ua.keyPath="clientId";class ca{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}ca.store="bundles",ca.keyPath="bundleId";class la{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}la.store="namedQueries",la.keyPath="name";Jo.store,ta.store,ea.store,na.store,ia.store,Xo.store,oa.store,sa.store,ua.store,ra.store,aa.store,ca.store,la.store;const ha="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class da{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}class fa{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ar(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fa(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof fa?e:fa.resolve(e)}catch(t){return fa.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):fa.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):fa.reject(e)}static resolve(t){return new fa(((e,n)=>{e(t)}))}static reject(t){return new fa(((e,n)=>{n(t)}))}static waitFor(t){return new fa(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=fa.resolve(!1);for(const n of t)e=e.next((t=>t?fa.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}}function pa(t){return"IndexedDbTransactionError"===t.name}class ma{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&Ds(e,t,n[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Os(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Os(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach((e=>{const n=t.get(e.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(zr.min())}))}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),so())}isEqual(t){return this.batchId===t.batchId&&Hr(this.mutations,t.mutations,((t,e)=>xs(t,e)))&&Hr(this.baseMutations,t.baseMutations,((t,e)=>xs(t,e)))}}class ga{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Nr(t.mutations.length===n.length);let r=ro();const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ga(t,e,n,r)}}class ya{constructor(t,e,n,r,i=zr.min(),s=zr.min(),o=ti.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class va{constructor(t){this.Wt=t}}function wa(t){const e=Uo({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?is(e,e.limit,"L"):e}class ba{constructor(){this.Gt=new Ta}addToCollectionParentIndex(t,e){return this.Gt.add(e),fa.resolve()}getCollectionParents(t,e){return fa.resolve(this.Gt.getEntries(e))}}class Ta{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ys(Yr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Ys(Yr.comparator)).toArray()}}class Ia{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Ia(t,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ia.DEFAULT_COLLECTION_PERCENTILE=10,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ia.DEFAULT=new Ia(41943040,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ia.DISABLED=new Ia(-1,0,0);class Ea{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new Ea(0)}static ie(){return new Ea(-1)}}async function ka(t){if(t.code!==Or.FAILED_PRECONDITION||t.message!==ha)throw t;kr("LocalStore","Unexpectedly lost primary lease")}class _a{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}forEach(t){Wr(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Gr(this.inner)}}class Sa{constructor(){this.changes=new _a((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:zr.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Ci.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?fa.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ca{constructor(t,e,n){this.He=t,this.In=e,this.Ht=n}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next((n=>this.Rn(t,e,n)))}Rn(t,e,n){return this.He.getEntry(t,e).next((t=>{for(const e of n)e.applyToLocalView(t);return t}))}bn(t,e){t.forEach(((t,n)=>{for(const r of e)r.applyToLocalView(n)}))}Pn(t,e){return this.He.getEntries(t,e).next((e=>this.vn(t,e).next((()=>e))))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>this.bn(e,t)))}getDocumentsMatchingQuery(t,e,n){return function(t){return hi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Vn(t,e.path):es(e)?this.Sn(t,e,n):this.Dn(t,e,n)}Vn(t,e){return this.An(t,new hi(e)).next((t=>{let e=eo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}Sn(t,e,n){const r=e.collectionGroup;let i=eo();return this.Ht.getCollectionParents(t,r).next((s=>fa.forEach(s,(s=>{const o=function(t,e){return new Gi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return this.Dn(t,o,n).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}Dn(t,e,n){let r,i;return this.He.getDocumentsMatchingQuery(t,e,n).next((n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(t,e)))).next((e=>(i=e,this.Cn(t,i,r).next((t=>{r=t;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Ci.newInvalidDocument(n),r=r.insert(n,i)),Os(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((t,n)=>{us(e,n)||(r=r.remove(t))})),r)))}Cn(t,e,n){let r=so();for(const s of e)for(const t of s.mutations)t instanceof Ls&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(t,r).next((t=>(t.forEach(((t,e)=>{e.isFoundDocument()&&(i=i.insert(t,e))})),i)))}}class Aa{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Nn=n,this.xn=r}static kn(t,e){let n=so(),r=so();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Aa(t,e.fromCache,n,r)}}class Na{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,n,r){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(zr.min())?this.Fn(t,e):this.On.Pn(t,r).next((i=>{const s=this.Mn(e,i);return(Qi(e)||Xi(e))&&this.Ln(e.limitType,s,r,n)?this.Fn(t,e):(Er()<=o.in.DEBUG&&kr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),as(e)),this.On.getDocumentsMatchingQuery(t,e,n).next((t=>(s.forEach((e=>{t=t.insert(e.key,e)})),t))))}))}Mn(t,e){let n=new Ys(cs(t));return e.forEach(((e,r)=>{us(t,r)&&(n=n.add(r))})),n}Ln(t,e,n,r){if(n.size!==e.size)return!0;const i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(t,e){return Er()<=o.in.DEBUG&&kr("QueryEngine","Using full collection scan to execute query:",as(e)),this.On.getDocumentsMatchingQuery(t,e,zr.min())}}class Da{constructor(t,e,n,r){this.persistence=t,this.Bn=e,this.N=r,this.Un=new Ws(Zr),this.qn=new _a((t=>Di(t)),Oi),this.Kn=zr.min(),this.In=t.getMutationQueue(n),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Ca(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Un)))}}function Oa(t,e,n,r){return new Da(t,e,n,r)}async function Ra(t,e){const n=Dr(t);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",(t=>{let s;return n.In.getAllMutationBatches(t).next((o=>(s=o,r=n.persistence.getMutationQueue(e),i=new Ca(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)))).next((e=>{const n=[],r=[];let o=so();for(const t of s){n.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.Pn(t,o).next((t=>({Wn:t,removedBatchIds:n,addedBatchIds:r})))}))}));return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function xa(t){const e=Dr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.ze.getLastRemoteSnapshotVersion(t)))}function Ma(t,e,n,r,i){let s=so();return n.forEach((t=>s=s.add(t))),e.getEntries(t,s).next((t=>{let s=Js();return n.forEach(((n,o)=>{const a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(zr.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):kr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function Pa(t,e){const n=Dr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(t,e))))}function La(t,e){const n=Dr(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.ze.getTargetData(t,e).next((i=>i?(r=i,fa.resolve(r)):n.ze.allocateTargetId(t).next((i=>(r=new ya(e,i,0,t.currentSequenceNumber),n.ze.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.Un.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(t.targetId,t),n.qn.set(e,t.targetId)),t}))}async function Ua(t,e,n){const r=Dr(t),i=r.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!pa(t))throw t;kr("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)}function Fa(t,e,n){const r=Dr(t);let i=zr.min(),s=so();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=Dr(t),i=r.qn.get(n);return void 0!==i?fa.resolve(r.Un.get(i)):r.ze.getTargetData(e,n)}(r,t,rs(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>r.Bn.getDocumentsMatchingQuery(t,e,n?i:zr.min(),n?s:so()))).next((t=>({documents:t,Gn:s})))))}class Va{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return fa.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var n;return this.Yn.set(e.id,{id:(n=e).id,version:n.version,createTime:ko(n.createTime)}),fa.resolve()}getNamedQuery(t,e){return fa.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,function(t){return{name:t.name,query:wa(t.bundledQuery),readTime:ko(t.readTime)}}(e)),fa.resolve()}}class ja{constructor(){this.Zn=new Ys(qa.ts),this.es=new Ys(qa.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new qa(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.rs(new qa(t,e))}os(t,e){t.forEach((t=>this.removeReference(t,e)))}cs(t){const e=new hi(new Yr([])),n=new qa(e,t),r=new qa(e,t+1),i=[];return this.es.forEachInRange([n,r],(t=>{this.rs(t),i.push(t.key)})),i}us(){this.Zn.forEach((t=>this.rs(t)))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new hi(new Yr([])),n=new qa(e,t),r=new qa(e,t+1);let i=so();return this.es.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new qa(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class qa{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return hi.comparator(t.key,e.key)||Zr(t.ls,e.ls)}static ns(t,e){return Zr(t.ls,e.ls)||hi.comparator(t.key,e.key)}}class Za{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new Ys(qa.ts)}checkEmpty(t){return fa.resolve(0===this.In.length)}addMutationBatch(t,e,n,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const s=new ma(i,e,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new qa(o.key,i)),this.Ht.addToCollectionParentIndex(t,o.key.path.popLast());return fa.resolve(s)}lookupMutationBatch(t,e){return fa.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this._s(n),i=r<0?0:r;return fa.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return fa.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return fa.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new qa(e,0),r=new qa(e,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(t=>{const e=this.ws(t.ls);i.push(e)})),fa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ys(Zr);return e.forEach((t=>{const e=new qa(t,0),r=new qa(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,r],(t=>{n=n.add(t.ls)}))})),fa.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;hi.isDocumentKey(i)||(i=i.child(""));const s=new qa(new hi(i),0);let o=new Ys(Zr);return this.ds.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ls)),!0)}),s),fa.resolve(this.gs(o))}gs(t){const e=[];return t.forEach((t=>{const n=this.ws(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Nr(0===this.ys(e.batchId,"removed")),this.In.shift();let n=this.ds;return fa.forEach(e.mutations,(r=>{const i=new qa(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.ds=n}))}te(t){}containsKey(t,e){const n=new qa(e,0),r=this.ds.firstAfterOrEqual(n);return fa.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.In.length,fa.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class Ha{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new Ws(hi.comparator),this.size=0}addEntry(t,e,n){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return fa.resolve(n?n.document.clone():Ci.newInvalidDocument(e))}getEntries(t,e){let n=Js();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():Ci.newInvalidDocument(t))})),fa.resolve(n)}getDocumentsMatchingQuery(t,e,n){let r=Js();const i=new hi(e.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:t,value:{document:i,readTime:o}}=s.getNext();if(!e.path.isPrefixOf(t.path))break;o.compareTo(n)<=0||us(e,i)&&(r=r.insert(i.key,i.clone()))}return fa.resolve(r)}Ts(t,e){return fa.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Ba(this)}getSize(t){return fa.resolve(this.size)}}class Ba extends Sa{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?e.push(this.Se.addEntry(t,r.document,this.getReadTime(n))):this.Se.removeEntry(n)})),fa.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class za{constructor(t){this.persistence=t,this.Es=new _a((t=>Di(t)),Oi),this.lastRemoteSnapshotVersion=zr.min(),this.highestTargetId=0,this.Is=0,this.As=new ja,this.targetCount=0,this.Rs=Ea.se()}forEachTarget(t,e){return this.Es.forEach(((t,n)=>e(n))),fa.resolve()}getLastRemoteSnapshotVersion(t){return fa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fa.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),fa.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Is&&(this.Is=e),fa.resolve()}ae(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Ea(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,fa.resolve()}updateTargetData(t,e){return this.ae(e),fa.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,fa.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Es.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),fa.waitFor(i).next((()=>r))}getTargetCount(t){return fa.resolve(this.targetCount)}getTargetData(t,e){const n=this.Es.get(e)||null;return fa.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),fa.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),fa.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),fa.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return fa.resolve(n)}containsKey(t,e){return fa.resolve(this.As.containsKey(e))}}class $a{constructor(t,e){this.bs={},this.Le=new Vr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new za(this),this.Ht=new ba,this.He=function(t,e){return new Ha(t,e)}(this.Ht,(t=>this.referenceDelegate.Ps(t))),this.N=new va(e),this.Je=new Va(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Za(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,n){kr("MemoryPersistence","Starting transaction:",t);const r=new Wa(this.Le.next());return this.referenceDelegate.vs(),n(r).next((t=>this.referenceDelegate.Vs(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Ss(t,e){return fa.or(Object.values(this.bs).map((n=>()=>n.containsKey(t,e))))}}class Wa extends da{constructor(t){super(),this.currentSequenceNumber=t}}class Ga{constructor(t){this.persistence=t,this.Ds=new ja,this.Cs=null}static Ns(t){return new Ga(t)}get xs(){if(this.Cs)return this.Cs;throw Ar()}addReference(t,e,n){return this.Ds.addReference(n,e),this.xs.delete(n.toString()),fa.resolve()}removeReference(t,e,n){return this.Ds.removeReference(n,e),this.xs.add(n.toString()),fa.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),fa.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach((t=>this.xs.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.xs.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fa.forEach(this.xs,(n=>{const r=hi.fromPath(n);return this.ks(t,r).next((t=>{t||e.removeEntry(r)}))})).next((()=>(this.Cs=null,e.apply(t))))}updateLimboDocument(t,e){return this.ks(t,e).next((t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())}))}Ps(t){return 0}ks(t,e){return fa.or([()=>fa.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}class Ka{constructor(){this.activeTargetIds=ao()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ya{constructor(){this.yi=new Ka,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,n){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new Ka,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class Qa{Ti(t){}shutdown(){}}class Xa{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){kr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){kr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ja={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class tu{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class eu extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.Fi=e+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,n,r){const i=this.Bi(t,e);kr("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(t,i,s,n).then((t=>(kr("RestConnection","Received: ",t),t)),(e=>{throw Sr("RestConnection",`${t} failed with error: `,e,"url: ",i,"request:",n),e}))}Ki(t,e,n,r){return this.Li(t,e,n,r)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+Tr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])}Bi(t,e){const n=Ja[t];return`${this.Fi}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,n,r){return new Promise(((i,s)=>{const o=new vr;o.listenOnce(fr.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case dr.NO_ERROR:const e=o.getResponseJson();kr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case dr.TIMEOUT:kr("Connection",'RPC "'+t+'" timed out'),s(new Rr(Or.DEADLINE_EXCEEDED,"Request time out"));break;case dr.HTTP_ERROR:const n=o.getStatus();if(kr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Or).indexOf(e)>=0?e:Or.UNKNOWN}(t.status);s(new Rr(e,t.message))}else s(new Rr(Or.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Rr(Or.UNAVAILABLE,"Connection failed."));break;default:Ar()}}finally{kr("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))}ji(t,e){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=lr(),i=hr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new gr({})),this.Ui(s.initMessageHeaders,e),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");kr("Connection","Creating WebChannel: "+o,s);const u=r.createWebChannel(o,s);let c=!1,l=!1;const h=new tu({vi:t=>{l?kr("Connection","Not sending because WebChannel is closed:",t):(c||(kr("Connection","Opening WebChannel transport."),u.open(),c=!0),kr("Connection","WebChannel sending:",t),u.send(t))},Vi:()=>u.close()}),d=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(u,yr.EventType.OPEN,(()=>{l||kr("Connection","WebChannel transport opened.")})),d(u,yr.EventType.CLOSE,(()=>{l||(l=!0,kr("Connection","WebChannel transport closed"),h.$i())})),d(u,yr.EventType.ERROR,(t=>{l||(l=!0,Sr("Connection","WebChannel transport errored:",t),h.$i(new Rr(Or.UNAVAILABLE,"The operation could not be completed")))})),d(u,yr.EventType.MESSAGE,(t=>{var e;if(!l){const n=t.data[0];Nr(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){kr("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=Hs[t];if(void 0!==e)return $s(e)}(t),n=i.message;void 0===e&&(e=Or.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),l=!0,h.$i(new Rr(e,n)),u.close()}else kr("Connection","WebChannel received:",n),h.Oi(n)}})),d(i,pr.STAT_EVENT,(t=>{t.stat===mr.PROXY?kr("Connection","Detected buffering proxy"):t.stat===mr.NOPROXY&&kr("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.ki()}),0),h}}function nu(){return"undefined"!=typeof document?document:null}function ru(t){return new bo(t,!0)}class iu{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Oe=t,this.timerId=e,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,e-n);r>0&&kr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Ji=Date.now(),t()))),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class su{constructor(t,e,n,r,i,s){this.Oe=t,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new iu(t,e)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(()=>this.dr())))}wr(t){this._r(),this.stream.send(t)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(t,e){this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===Or.RESOURCE_EXHAUSTED?(_r(e.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):e&&e.code===Or.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ci(e)}mr(){}auth(){this.state=1;const t=this.gr(this.sr),e=this.sr;this.credentialsProvider.getToken().then((t=>{this.sr===e&&this.yr(t)}),(e=>{t((()=>{const t=new Rr(Or.UNKNOWN,"Fetching auth token failed: "+e.message);return this.pr(t)}))}))}yr(t){const e=this.gr(this.sr);this.stream=this.Tr(t),this.stream.Si((()=>{e((()=>(this.state=2,this.listener.Si())))})),this.stream.Ci((t=>{e((()=>this.pr(t)))})),this.stream.onMessage((t=>{e((()=>this.onMessage(t)))}))}ur(){this.state=4,this.rr.Xi((async()=>{this.state=0,this.start()}))}pr(t){return kr("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(3,t)}gr(t){return e=>{this.Oe.enqueueAndForget((()=>this.sr===t?e():(kr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ou extends su{constructor(t,e,n,r,i){super(t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i),this.N=r}Tr(t){return this.nr.ji("Listen",t)}onMessage(t){this.rr.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ar()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.D?(Nr(void 0===e||"string"==typeof e),ti.fromBase64String(e||"")):(Nr(void 0===e||e instanceof Uint8Array),ti.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?Or.UNKNOWN:$s(t.code);return new Rr(e,t.message||"")}(o);n=new fo(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ao(t,r.document.name),s=ko(r.document.updateTime),o=new _i({mapValue:{fields:r.document.fields}}),a=Ci.newFoundDocument(i,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new lo(u,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ao(t,r.document),s=r.readTime?ko(r.readTime):zr.min(),o=Ci.newNoDocument(i,s),a=r.removedTargetIds||[];n=new lo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ao(t,r.document),s=r.removedTargetIds||[];n=new lo([],s,i,null)}else{if(!("filter"in e))return Ar();{e.filter;const t=e.filter;t.targetId;const r=t.count||0,i=new Zs(r),s=t.targetId;n=new ho(s,i)}}return n}(this.N,t),n=function(t){if(!("targetChange"in t))return zr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?zr.min():e.readTime?ko(e.readTime):zr.min()}(t);return this.listener.Er(e,n)}Ir(t){const e={};e.database=Oo(this.N),e.addTarget=function(t,e){let n;const r=e.target;return n=Ri(r)?{documents:Po(t,r)}:{query:Lo(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Io(t,e.resumeToken):e.snapshotVersion.compareTo(zr.min())>0&&(n.readTime=To(t,e.snapshotVersion.toTimestamp())),n}(this.N,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ar()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,t);n&&(e.labels=n),this.wr(e)}Ar(t){const e={};e.database=Oo(this.N),e.removeTarget=t,this.wr(e)}}class au extends su{constructor(t,e,n,r,i){super(t,"write_stream_connection_backoff","write_stream_idle",e,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(t){return this.nr.ji("Write",t)}onMessage(t){if(Nr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();const e=function(t,e){return t&&t.length>0?(Nr(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?ko(t.updateTime):ko(e);return n.isEqual(zr.min())&&(n=ko(e)),new Ss(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=ko(t.commitTime);return this.listener.vr(n,e)}return Nr(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const t={};t.database=Oo(this.N),this.wr(t)}Pr(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Mo(this.N,t)))};this.wr(e)}}class uu extends class{}{constructor(t,e,n){super(),this.credentials=t,this.nr=e,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Rr(Or.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Li(t,e,n,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Or.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new Rr(Or.UNKNOWN,t.toString())}))}Ki(t,e,n){return this.Cr(),this.credentials.getToken().then((r=>this.nr.Ki(t,e,n,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Or.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new Rr(Or.UNKNOWN,t.toString())}))}terminate(){this.Dr=!0}}class cu{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve()))))}Lr(t){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Fr("Offline")))}set(t){this.Br(),this.Nr=0,"Online"===t&&(this.$r=!1),this.Fr(t)}Fr(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Mr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(_r(e),this.$r=!1):kr("OnlineStateTracker",e)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class lu{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ti((t=>{n.enqueueAndForget((async()=>{wu(this)&&(kr("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Dr(t);e.Kr.add(4),await du(e),e.Wr.set("Unknown"),e.Kr.delete(4),await hu(e)}(this))}))})),this.Wr=new cu(n,r)}}async function hu(t){if(wu(t))for(const e of t.jr)await e(!0)}async function du(t){for(const e of t.jr)await e(!1)}function fu(t,e){const n=Dr(t);n.qr.has(e.targetId)||(n.qr.set(e.targetId,e),vu(n)?yu(n):Lu(n).cr()&&mu(n,e))}function pu(t,e){const n=Dr(t),r=Lu(n);n.qr.delete(e),r.cr()&&gu(n,e),0===n.qr.size&&(r.cr()?r.lr():wu(n)&&n.Wr.set("Unknown"))}function mu(t,e){t.Gr.Y(e.targetId),Lu(t).Ir(e)}function gu(t,e){t.Gr.Y(e),Lu(t).Ar(e)}function yu(t){t.Gr=new mo({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.qr.get(e)||null}),Lu(t).start(),t.Wr.Or()}function vu(t){return wu(t)&&!Lu(t).ar()&&t.qr.size>0}function wu(t){return 0===Dr(t).Kr.size}function bu(t){t.Gr=void 0}async function Tu(t){t.qr.forEach(((e,n)=>{mu(t,e)}))}async function Iu(t,e){bu(t),vu(t)?(t.Wr.Lr(e),yu(t)):t.Wr.set("Unknown")}async function Eu(t,e,n){if(t.Wr.set("Online"),e instanceof fo&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.qr.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.qr.delete(r),t.Gr.removeTarget(r))}(t,e)}catch(n){kr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ku(t,n)}else if(e instanceof lo?t.Gr.rt(e):e instanceof ho?t.Gr.ft(e):t.Gr.ct(e),!n.isEqual(zr.min()))try{const e=await xa(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Gr._t(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.qr.get(r);i&&t.qr.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.qr.get(e);if(!n)return;t.qr.set(e,n.withResumeToken(ti.EMPTY_BYTE_STRING,n.snapshotVersion)),gu(t,e);const r=new ya(n.target,e,1,n.sequenceNumber);mu(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){kr("RemoteStore","Failed to raise snapshot:",e),await ku(t,e)}}async function ku(t,e,n){if(!pa(e))throw e;t.Kr.add(1),await du(t),t.Wr.set("Offline"),n||(n=()=>xa(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{kr("RemoteStore","Retrying IndexedDB access"),await n(),t.Kr.delete(1),await hu(t)}))}function _u(t,e){return e().catch((n=>ku(t,n,e)))}async function Su(t){const e=Dr(t),n=Uu(e);let r=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;Cu(e);)try{const t=await Pa(e.localStore,r);if(null===t){0===e.Ur.length&&n.lr();break}r=t.batchId,Au(e,t)}catch(t){await ku(e,t)}Nu(e)&&Du(e)}function Cu(t){return wu(t)&&t.Ur.length<10}function Au(t,e){t.Ur.push(e);const n=Uu(t);n.cr()&&n.br&&n.Pr(e.mutations)}function Nu(t){return wu(t)&&!Uu(t).ar()&&t.Ur.length>0}function Du(t){Uu(t).start()}async function Ou(t){Uu(t).Sr()}async function Ru(t){const e=Uu(t);for(const n of t.Ur)e.Pr(n.mutations)}async function xu(t,e,n){const r=t.Ur.shift(),i=ga.from(r,e,n);await _u(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Su(t)}async function Mu(t,e){e&&Uu(t).br&&await async function(t,e){if(zs(n=e.code)&&n!==Or.ABORTED){const n=t.Ur.shift();Uu(t).hr(),await _u(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Su(t)}var n}(t,e),Nu(t)&&Du(t)}async function Pu(t,e){const n=Dr(t);e?(n.Kr.delete(2),await hu(n)):e||(n.Kr.add(2),await du(n),n.Wr.set("Unknown"))}function Lu(t){return t.zr||(t.zr=function(t,e,n){const r=Dr(t);return r.Cr(),new ou(e,r.nr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:Tu.bind(null,t),Ci:Iu.bind(null,t),Er:Eu.bind(null,t)}),t.jr.push((async e=>{e?(t.zr.hr(),vu(t)?yu(t):t.Wr.set("Unknown")):(await t.zr.stop(),bu(t))}))),t.zr}function Uu(t){return t.Hr||(t.Hr=function(t,e,n){const r=Dr(t);return r.Cr(),new au(e,r.nr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:Ou.bind(null,t),Ci:Mu.bind(null,t),Vr:Ru.bind(null,t),vr:xu.bind(null,t)}),t.jr.push((async e=>{e?(t.Hr.hr(),await Su(t)):(await t.Hr.stop(),t.Ur.length>0&&(kr("RemoteStore",`Stopping write stream with ${t.Ur.length} pending writes`),t.Ur=[]))}))),t.Hr}class Fu{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new Fu(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rr(Or.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vu(t,e){if(_r("AsyncQueue",`${e}: ${t}`),pa(t))return new Rr(Or.UNAVAILABLE,`${e}: ${t}`);throw t}class ju{constructor(t){this.comparator=t?(e,n)=>t(e,n)||hi.comparator(e.key,n.key):(t,e)=>hi.comparator(t.key,e.key),this.keyedMap=eo(),this.sortedSet=new Ws(this.comparator)}static emptySet(t){return new ju(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ju))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new ju;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class qu{constructor(){this.Jr=new Ws(hi.comparator)}track(t){const e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Ar():this.Jr=this.Jr.insert(e,t)}Yr(){const t=[];return this.Jr.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Zu{constructor(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach((t=>{i.push({type:0,doc:t})})),new Zu(t,e,ju.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ss(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hu{constructor(){this.Xr=void 0,this.listeners=[]}}class Bu{constructor(){this.queries=new _a((t=>os(t)),ss),this.onlineState="Unknown",this.Zr=new Set}}async function zu(t,e){const n=Dr(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Hu),i)try{s.Xr=await n.onListen(r)}catch(t){const n=Vu(t,`Initialization of query '${as(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,s),s.listeners.push(e),e.eo(n.onlineState),s.Xr&&e.no(s.Xr)&&Ku(n)}async function $u(t,e){const n=Dr(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Wu(t,e){const n=Dr(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.no(i)&&(r=!0);e.Xr=i}}r&&Ku(n)}function Gu(t,e,n){const r=Dr(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Ku(t){t.Zr.forEach((t=>{t.next()}))}class Yu{constructor(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Zu(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.io?this.oo(t)&&(this.so.next(t),e=!0):this.ao(t,this.onlineState)&&(this.co(t),e=!0),this.ro=t,e}onError(t){this.so.error(t)}eo(t){this.onlineState=t;let e=!1;return this.ro&&!this.io&&this.ao(this.ro,t)&&(this.co(this.ro),e=!0),e}ao(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.uo||!n)&&(!t.docs.isEmpty()||"Offline"===e)}oo(t){if(t.docChanges.length>0)return!0;const e=this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}co(t){t=Zu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)}}class Qu{constructor(t){this.key=t}}class Xu{constructor(t){this.key=t}}class Ju{constructor(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=so(),this.mutatedKeys=so(),this.po=cs(t),this.To=new ju(this.po)}get Eo(){return this._o}Io(t,e){const n=e?e.Ao:new qu,r=e?e.To:this.To;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Qi(this.query)&&r.size===this.query.limit?r.last():null,u=Xi(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),l=us(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ro(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.po(l,a)>0||u&&this.po(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),Qi(this.query)||Xi(this.query))for(;s.size>this.query.limit;){const t=Qi(this.query)?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{To:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.To;this.To=t.To,this.mutatedKeys=t.mutatedKeys;const i=t.Ao.Yr();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ar()}};return n(t)-n(e)}(t.type,e.type)||this.po(t.doc,e.doc))),this.bo(n);const s=e?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new Zu(this.query,t.To,r,i,t.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({To:this.To,Ao:new qu,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(t){return!this._o.has(t)&&!!this.To.has(t)&&!this.To.get(t).hasLocalMutations}bo(t){t&&(t.addedDocuments.forEach((t=>this._o=this._o.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this._o=this._o.delete(t))),this.current=t.current)}Po(){if(!this.current)return[];const t=this.yo;this.yo=so(),this.To.forEach((t=>{this.Vo(t.key)&&(this.yo=this.yo.add(t.key))}));const e=[];return t.forEach((t=>{this.yo.has(t)||e.push(new Xu(t))})),this.yo.forEach((n=>{t.has(n)||e.push(new Qu(n))})),e}So(t){this._o=t.Gn,this.yo=so();const e=this.Io(t.documents);return this.applyChanges(e,!0)}Do(){return Zu.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class tc{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class ec{constructor(t){this.key=t,this.Co=!1}}class nc{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new _a((t=>os(t)),ss),this.ko=new Map,this.$o=new Set,this.Oo=new Ws(hi.comparator),this.Fo=new Map,this.Mo=new ja,this.Lo={},this.Bo=new Map,this.Uo=Ea.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function rc(t,e){const n=Tc(t);let r,i;const s=n.xo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const t=await La(n.localStore,rs(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await ic(n,e,r,"current"===s),n.isPrimaryClient&&fu(n.remoteStore,t)}return i}async function ic(t,e,n,r){t.Ko=(e,n,r)=>async function(t,e,n,r){let i=e.view.Io(n);i.Ln&&(i=await Fa(t.localStore,e.query,!1).then((({documents:t})=>e.view.Io(t,i))));const s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s);return mc(t,e.targetId,o.vo),o.snapshot}(t,e,n,r);const i=await Fa(t.localStore,e,!0),s=new Ju(e,i.Gn),o=s.Io(i.documents),a=co.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);mc(t,n,u.vo);const c=new tc(e,n,s);return t.xo.set(e,c),t.ko.has(n)?t.ko.get(n).push(e):t.ko.set(n,[e]),u.snapshot}async function sc(t,e){const n=Dr(t),r=n.xo.get(e),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter((t=>!ss(t,e)))),void n.xo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ua(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),pu(n.remoteStore,r.targetId),fc(n,r.targetId)})).catch(ka)):(fc(n,r.targetId),await Ua(n.localStore,r.targetId,!0))}async function oc(t,e){const n=Dr(t);try{const t=await function(t,e){const n=Dr(t),r=e.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];e.targetChanges.forEach(((e,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(t,e.removedDocuments,s).next((()=>n.ze.addMatchingKeys(t,e.addedDocuments,s))));const u=e.resumeToken;if(u.approximateByteSize()>0){const c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return Nr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.ze.updateTargetData(t,c))}}));let a=Js();if(e.documentUpdates.forEach(((r,i)=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(Ma(t,s,e.documentUpdates,r,void 0).next((t=>{a=t}))),!r.isEqual(zr.min())){const e=n.ze.getLastRemoteSnapshotVersion(t).next((e=>n.ze.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return fa.waitFor(o).next((()=>s.apply(t))).next((()=>n.Qn.vn(t,a))).next((()=>a))})).then((t=>(n.Un=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Fo.get(e);r&&(Nr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?Nr(r.Co):t.removedDocuments.size>0&&(Nr(r.Co),r.Co=!1))})),await vc(n,t,e)}catch(t){await ka(t)}}function ac(t,e,n){const r=Dr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.xo.forEach(((n,r)=>{const i=r.view.eo(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=Dr(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.listeners)i.eo(e)&&(r=!0)})),r&&Ku(n)}(r.eventManager,e),t.length&&r.No.Er(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uc(t,e,n){const r=Dr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fo.get(e),s=i&&i.key;if(s){let t=new Ws(hi.comparator);t=t.insert(s,Ci.newNoDocument(s,zr.min()));const n=so().add(s),i=new uo(zr.min(),new Map,new Ys(Zr),t,n);await oc(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(e),yc(r)}else await Ua(r.localStore,e,!1).then((()=>fc(r,e,n))).catch(ka)}async function cc(t,e){const n=Dr(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Dr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=fa.resolve();return s.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Nr(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),o.next((()=>t.In.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.In.performConsistencyCheck(t))).next((()=>n.Qn.Pn(t,r)))}))}(n.localStore,e);dc(n,r,null),hc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,t)}catch(t){await ka(t)}}async function lc(t,e,n){const r=Dr(t);try{const t=await function(t,e){const n=Dr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.In.lookupMutationBatch(t,e).next((e=>(Nr(null!==e),r=e.keys(),n.In.removeMutationBatch(t,e)))).next((()=>n.In.performConsistencyCheck(t))).next((()=>n.Qn.Pn(t,r)))}))}(r.localStore,e);dc(r,e,n),hc(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vc(r,t)}catch(n){await ka(n)}}function hc(t,e){(t.Bo.get(e)||[]).forEach((t=>{t.resolve()})),t.Bo.delete(e)}function dc(t,e,n){const r=Dr(t);let i=r.Lo[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function fc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ko.get(e))t.xo.delete(r),n&&t.No.jo(r,n);t.ko.delete(e),t.isPrimaryClient&&t.Mo.cs(e).forEach((e=>{t.Mo.containsKey(e)||pc(t,e)}))}function pc(t,e){t.$o.delete(e.path.canonicalString());const n=t.Oo.get(e);null!==n&&(pu(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.Fo.delete(n),yc(t))}function mc(t,e,n){for(const r of n)r instanceof Qu?(t.Mo.addReference(r.key,e),gc(t,r)):r instanceof Xu?(kr("SyncEngine","Document no longer in limbo: "+r.key),t.Mo.removeReference(r.key,e),t.Mo.containsKey(r.key)||pc(t,r.key)):Ar()}function gc(t,e){const n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.$o.has(r)||(kr("SyncEngine","New document in limbo: "+n),t.$o.add(r),yc(t))}function yc(t){for(;t.$o.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){const e=t.$o.values().next().value;t.$o.delete(e);const n=new hi(Yr.fromString(e)),r=t.Uo.next();t.Fo.set(r,new ec(n)),t.Oo=t.Oo.insert(n,r),fu(t.remoteStore,new ya(rs(Yi(n.path)),r,2,Vr.T))}}async function vc(t,e,n){const r=Dr(t),i=[],s=[],o=[];r.xo.isEmpty()||(r.xo.forEach(((t,a)=>{o.push(r.Ko(a,e,n).then((t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);const e=Aa.kn(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.No.Er(i),await async function(t,e){const n=Dr(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>fa.forEach(e,(e=>fa.forEach(e.Nn,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>fa.forEach(e.xn,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!pa(t))throw t;kr("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.Un.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Un=n.Un.insert(t,i)}}}(r.localStore,s))}async function wc(t,e){const n=Dr(t);if(!n.currentUser.isEqual(e)){kr("SyncEngine","User change. New user:",e.toKey());const t=await Ra(n.localStore,e);n.currentUser=e,function(t,e){t.Bo.forEach((t=>{t.forEach((t=>{t.reject(new Rr(Or.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await vc(n,t.Wn)}}function bc(t,e){const n=Dr(t),r=n.Fo.get(e);if(r&&r.Co)return so().add(r.key);{let t=so();const r=n.ko.get(e);if(!r)return t;for(const e of r){const r=n.xo.get(e);t=t.unionWith(r.view.Eo)}return t}}function Tc(t){const e=Dr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uc.bind(null,e),e.No.Er=Wu.bind(null,e.eventManager),e.No.jo=Gu.bind(null,e.eventManager),e}function Ic(t){const e=Dr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lc.bind(null,e),e}class Ec{constructor(){this.synchronizeTabs=!1}async initialize(t){this.N=ru(t.databaseInfo.databaseId),this.sharedClientState=this.Wo(t),this.persistence=this.Go(t),await this.persistence.start(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t)}zo(t){return null}Ho(t){return Oa(this.persistence,new Na,t.initialUser,this.N)}Go(t){return new $a(Ga.Ns,this.N)}Wo(t){return new Ya}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kc{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>ac(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=wc.bind(null,this.syncEngine),await Pu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Bu}createDatastore(t){const e=ru(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new eu(r));var r;return function(t,e,n){return new uu(t,e,n)}(t.credentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>ac(this.syncEngine,t,0),s=Xa.bt()?new Xa:new Qa,new lu(e,n,r,i,s);var e,n,r,i,s}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new nc(t,e,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Dr(t);kr("RemoteStore","RemoteStore shutting down."),e.Kr.add(5),await du(e),e.Qr.shutdown(),e.Wr.set("Unknown")}(this.remoteStore)}}class _c{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Yo(this.observer.next,t)}error(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Xo(){this.muted=!0}Yo(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class Sc{constructor(t,e,n){this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=br.UNAUTHENTICATED,this.clientId=qr.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,(async t=>{kr("FirestoreClient","Received user=",t.uid),await this.credentialListener(t),this.user=t}))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rr(Or.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),t.resolve()}catch(e){const n=Vu(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Cc(t,e){t.asyncQueue.verifyOperationInProgress(),kr("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Ra(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function Ac(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nc(t);kr("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>async function(t,e){const n=Dr(t);n.asyncQueue.verifyOperationInProgress(),kr("RemoteStore","RemoteStore received new credentials");const r=wu(n);n.Kr.add(3),await du(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Kr.delete(3),await hu(n)}(e.remoteStore,t))),t.onlineComponents=e}async function Nc(t){return t.offlineComponents||(kr("FirestoreClient","Using default OfflineComponentProvider"),await Cc(t,new Ec)),t.offlineComponents}async function Dc(t){return t.onlineComponents||(kr("FirestoreClient","Using default OnlineComponentProvider"),await Ac(t,new kc)),t.onlineComponents}function Oc(t){return Dc(t).then((t=>t.syncEngine))}async function Rc(t){const e=await Dc(t),n=e.eventManager;return n.onListen=rc.bind(null,e.syncEngine),n.onUnlisten=sc.bind(null,e.syncEngine),n}function xc(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new _c({next:s=>{e.enqueueAndForget((()=>$u(t,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Rr(Or.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Rr(Or.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new Yu(Yi(n.path),s,{includeMetadataChanges:!0,uo:!0});return zu(t,o)}(await Rc(t),t.asyncQueue,e,n,r))),r.promise}class Mc{constructor(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Pc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Pc&&t.projectId===this.projectId&&t.database===this.database}}const Lc=new Map;function Uc(t,e,n){if(!n)throw new Rr(Or.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fc(t){if(!hi.isDocumentKey(t))throw new Rr(Or.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vc(t){if(hi.isDocumentKey(t))throw new Rr(Or.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jc(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Ar()}function qc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rr(Or.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jc(t);throw new Rr(Or.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Zc(t,e){if(e<=0)throw new Rr(Or.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Hc{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Rr(Or.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Rr(Or.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new Rr(Or.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bc{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hc({}),this._settingsFrozen=!1,t instanceof Pc?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Rr(Or.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(t.options.projectId)}(t))}get app(){if(!this._app)throw new Rr(Or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Rr(Or.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hc(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Pr;switch(t.type){case"gapi":const e=t.client;return Nr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Fr(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Rr(Or.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Lc.get(t);e&&(kr("ComponentProvider","Removing Datastore"),Lc.delete(t),e.terminate())}(this),Promise.resolve()}}class zc{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zc(this.firestore,t,this._key)}}class $c{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new $c(this.firestore,t,this._query)}}class Wc extends $c{constructor(t,e,n){super(t,e,Yi(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zc(this.firestore,null,new hi(t))}withConverter(t){return new Wc(this.firestore,t,this._path)}}function Gc(t,e,...n){if(t=(0,a.m9)(t),Uc("collection","path",e),t instanceof Bc){const r=Yr.fromString(e,...n);return Vc(r),new Wc(t,null,r)}{if(!(t instanceof zc||t instanceof Wc))throw new Rr(Or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yr.fromString(e,...n));return Vc(r),new Wc(t.firestore,null,r)}}function Kc(t,e,...n){if(t=(0,a.m9)(t),1===arguments.length&&(e=qr.I()),Uc("doc","path",e),t instanceof Bc){const r=Yr.fromString(e,...n);return Fc(r),new zc(t,null,new hi(r))}{if(!(t instanceof zc||t instanceof Wc))throw new Rr(Or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yr.fromString(e,...n));return Fc(r),new zc(t.firestore,t instanceof Wc?t.converter:null,new hi(r))}}class Yc{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new iu(this,"async_queue_retry"),this.Ta=()=>{const t=nu();t&&kr("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const t=nu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ea(),this.Ia(t)}enterRestrictedMode(t){if(!this.wa){this.wa=!0,this.ya=t||!1;const e=nu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ta)}}enqueue(t){if(this.Ea(),this.wa)return new Promise((()=>{}));const e=new xr;return this.Ia((()=>this.wa&&this.ya?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.da.push(t),this.Aa())))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(T){if(!pa(T))throw T;kr("AsyncQueue","Operation failed with retryable error: "+T)}this.da.length>0&&this.rr.Xi((()=>this.Aa()))}}Ia(t){const e=this.fa.then((()=>(this.ga=!0,t().catch((t=>{this.ma=t,this.ga=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw _r("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.ga=!1,t))))));return this.fa=e,e}enqueueAfterDelay(t,e,n){this.Ea(),this.pa.indexOf(t)>-1&&(e=0);const r=Fu.createAndSchedule(this,t,e,n,(t=>this.Ra(t)));return this._a.push(r),r}Ea(){this.ma&&Ar()}verifyOperationInProgress(){}async ba(){let t;do{t=this.fa,await t}while(t!==this.fa)}Pa(t){for(const e of this._a)if(e.timerId===t)return!0;return!1}va(t){return this.ba().then((()=>{this._a.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this._a)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ba()}))}Va(t){this.pa.push(t)}Ra(t){const e=this._a.indexOf(t);this._a.splice(e,1)}}function Qc(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(t)}class Xc extends Bc{constructor(t,e){super(t,e),this.type="firestore",this._queue=new Yc,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||el(this),this._firestoreClient.terminate()}}function Jc(t=(0,i.getApp)()){return(0,i._getProvider)(t,"firestore").getImmediate()}function tl(t){return t._firestoreClient||el(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function el(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new Mc(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Sc(t._credentials,t._queue,r)}class nl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Rr(Or.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rl(ti.fromBase64String(t))}catch(t){throw new Rr(Or.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new rl(ti.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class il{constructor(t){this._methodName=t}}class sl{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Rr(Or.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Rr(Or.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zr(this._lat,t._lat)||Zr(this._long,t._long)}}const ol=/^__.*__$/;class al{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Ls(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ps(t,this.data,e,this.fieldTransforms)}}class ul{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Ls(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function cl(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ar()}}class ll{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(t){return new ll(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ca({path:n,xa:!1});return r.ka(t),r}$a(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(t){return this.Ca({path:void 0,xa:!0})}Fa(t){return kl(t,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Sa(){if(this.path)for(let t=0;t<this.path.length;t++)this.ka(this.path.get(t))}ka(t){if(0===t.length)throw this.Fa("Document fields must not be empty");if(cl(this.Da)&&ol.test(t))throw this.Fa('Document fields cannot begin and end with "__"')}}class hl{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=n||ru(t)}Ba(t,e,n,r=!1){return new ll({Da:t,methodName:e,La:n,path:Xr.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function dl(t){const e=t._freezeSettings(),n=ru(t._databaseId);return new hl(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fl(t,e,n,r,i,s={}){const o=t.Ba(s.merge||s.mergeFields?2:0,e,n,i);bl("Data must be an object, but it was:",o,r);const a=vl(r,o);let u,c;if(s.merge)u=new Jr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=Tl(e,r,n);if(!o.contains(i))throw new Rr(Or.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);_l(t,i)||t.push(i)}u=new Jr(t),c=o.fieldTransforms.filter((t=>u.covers(t.field)))}else u=null,c=o.fieldTransforms;return new al(new _i(a),u,c)}class pl extends il{_toFieldTransform(t){if(2!==t.Da)throw 1===t.Da?t.Fa(`${this._methodName}() can only appear at the top level of your update data`):t.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pl}}function ml(t,e,n,r){const i=t.Ba(1,e,n);bl("Data must be an object, but it was:",i,r);const s=[],o=_i.empty();Wr(r,((t,r)=>{const u=El(e,t,n);r=(0,a.m9)(r);const c=i.$a(u);if(r instanceof pl)s.push(u);else{const t=yl(r,c);null!=t&&(s.push(u),o.set(u,t))}}));const u=new Jr(s);return new ul(o,u,i.fieldTransforms)}function gl(t,e,n,r,i,s){const o=t.Ba(1,e,n),u=[Tl(e,r,n)],c=[i];if(s.length%2!=0)throw new Rr(Or.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<s.length;a+=2)u.push(Tl(e,s[a])),c.push(s[a+1]);const l=[],h=_i.empty();for(let f=u.length-1;f>=0;--f)if(!_l(l,u[f])){const t=u[f];let e=c[f];e=(0,a.m9)(e);const n=o.$a(t);if(e instanceof pl)l.push(t);else{const r=yl(e,n);null!=r&&(l.push(t),h.set(t,r))}}const d=new Jr(l);return new ul(h,d,o.fieldTransforms)}function yl(t,e){if(wl(t=(0,a.m9)(t)))return bl("Unsupported field value:",e,t),vl(t,e);if(t instanceof il)return function(t,e){if(!cl(e.Da))throw e.Fa(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Fa(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=yl(i,e.Oa(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,a.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fs(e.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Br.fromDate(t);return{timestampValue:To(e.N,n)}}if(t instanceof Br){const n=new Br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:To(e.N,n)}}if(t instanceof sl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rl)return{bytesValue:Io(e.N,t._byteString)};if(t instanceof zc){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:_o(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Fa(`Unsupported field value: ${jc(t)}`)}(t,e)}function vl(t,e){const n={};return Gr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,((t,r)=>{const i=yl(r,e.Na(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function wl(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Br||t instanceof sl||t instanceof rl||t instanceof zc||t instanceof il)}function bl(t,e,n){if(!wl(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=jc(n);throw"an object"===r?e.Fa(t+" a custom object"):e.Fa(t+" "+r)}}function Tl(t,e,n){if((e=(0,a.m9)(e))instanceof nl)return e._internalPath;if("string"==typeof e)return El(t,e);throw kl("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const Il=new RegExp("[~\\*/\\[\\]]");function El(t,e,n){if(e.search(Il)>=0)throw kl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nl(...e.split("."))._internalPath}catch(r){throw kl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Rr(Or.INVALID_ARGUMENT,a+t+u)}function _l(t,e){return t.some((t=>t.isEqual(e)))}class Sl{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Cl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Al("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Cl extends Sl{data(){return super.data()}}function Al(t,e){return"string"==typeof e?El(t,e):e instanceof nl?e._internalPath:e._delegate._internalPath}class Nl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dl extends Sl{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Al("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Ol extends Dl{data(t={}){return super.data(t)}}class Rl{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Nl(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Ol(this._firestore,this._userDataWriter,n.key,n,new Nl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rr(Or.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>({type:"added",doc:new Ol(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Nl(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Ol(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Nl(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:xl(e.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xl(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ar()}}function Ml(t){if(Xi(t)&&0===t.explicitOrderBy.length)throw new Rr(Or.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pl{}function Ll(t,...e){for(const n of e)t=n._apply(t);return t}class Ul extends Pl{constructor(t,e){super(),this.Ka=t,this.Wa=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Rr(Or.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Rr(Or.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Bi(e,n);return function(t,e){if(null===Ji(t)){const n=ts(t);null!==n&&ql(t,n,e.field)}}(t,r),r}(t._query,this.Ka,this.Wa);return new $c(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Gi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Fl(t,e="asc"){const n=e,r=Al("orderBy",t);return new Ul(r,n)}class Vl extends Pl{constructor(t,e,n){super(),this.type=t,this.Ga=e,this.za=n}_apply(t){return new $c(t.firestore,t.converter,is(t._query,this.Ga,this.za))}}function jl(t){return Zc("limit",t),new Vl("limit",t,"F")}function ql(t,e,n){if(!n.isEqual(e))throw new Rr(Or.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Zl{convertValue(t,e="none"){switch(di(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ri(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ii(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ar()}}convertObject(t,e){const n={};return Wr(t.fields,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new sl(ri(t.latitude),ri(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=oi(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ai(t));default:return null}}convertTimestamp(t){const e=ni(t);return new Br(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Yr.fromString(t);Nr(Go(n));const r=new Pc(n.get(1),n.get(3)),i=new hi(n.popFirst(5));return r.isEqual(e)||_r(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function Hl(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Bl(t){t=qc(t,zc);const e=qc(t.firestore,Xc);return xc(tl(e),t._key).then((n=>Xl(e,t,n)))}class zl extends Zl{constructor(t){super(),this.firestore=t}convertBytes(t){return new rl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zc(this.firestore,null,e)}}function $l(t,e,n){t=qc(t,zc);const r=qc(t.firestore,Xc),i=Hl(t.converter,e,n);return Ql(r,[fl(dl(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Cs.none())])}function Wl(t,e,n,...r){t=qc(t,zc);const i=qc(t.firestore,Xc),s=dl(i);let o;return o="string"==typeof(e=(0,a.m9)(e))||e instanceof nl?gl(s,"updateDoc",t._key,e,n,r):ml(s,"updateDoc",t._key,e),Ql(i,[o.toMutation(t._key,Cs.exists(!0))])}function Gl(t){return Ql(qc(t.firestore,Xc),[new js(t._key,Cs.none())])}function Kl(t,e){const n=qc(t.firestore,Xc),r=Kc(t),i=Hl(t.converter,e);return Ql(n,[fl(dl(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Cs.exists(!1))]).then((()=>r))}function Yl(t,...e){var n,r,i;t=(0,a.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Qc(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(Qc(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[o+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let c,l,h;if(t instanceof zc)l=qc(t.firestore,Xc),h=Yi(t._key.path),c={next:n=>{e[o]&&e[o](Xl(l,t,n))},error:e[o+1],complete:e[o+2]};else{const n=qc(t,$c);l=qc(n.firestore,Xc),h=n._query;const r=new zl(l);c={next:t=>{e[o]&&e[o](new Rl(l,r,n,t))},error:e[o+1],complete:e[o+2]},Ml(t._query)}return function(t,e,n,r){const i=new _c(r),s=new Yu(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>zu(await Rc(t),s))),()=>{i.Xo(),t.asyncQueue.enqueueAndForget((async()=>$u(await Rc(t),s)))}}(tl(l),h,u,c)}function Ql(t,e){return function(t,e){const n=new xr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=Ic(t);try{const t=await function(t,e){const n=Dr(t),r=Br.now(),i=e.reduce(((t,e)=>t.add(e.key)),so());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>n.Qn.Pn(t,i).next((i=>{s=i;const o=[];for(const t of e){const e=Rs(t,s.get(t.key));null!=e&&o.push(new Ls(t.key,e,Si(e.value.mapValue),Cs.exists(!0)))}return n.In.addMutationBatch(t,r,o,e)})))).then((t=>(t.applyToLocalDocumentSet(s),{batchId:t.batchId,changes:s})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Lo[t.currentUser.toKey()];r||(r=new Ws(Zr)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,t.batchId,n),await vc(r,t.changes),await Su(r.remoteStore)}catch(t){const e=Vu(t,"Failed to persist write");n.reject(e)}}(await Oc(t),e,n))),n.promise}(tl(t),e)}function Xl(t,e,n){const r=n.docs.get(e._key),i=new zl(t);return new Dl(t,i,e._key,r,new Nl(n.hasPendingWrites,n.fromCache),e.converter)}!function(t){Tr=t}(i.SDK_VERSION),(0,i._registerComponent)(new s.wA("firestore",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=new Xc(n,new Lr(t.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),r._setSettings(e),r}),"PUBLIC")),(0,i.registerVersion)(wr,"3.1.1",undefined),(0,i.registerVersion)(wr,"3.1.1","esm2017")},3454:function(t,e,n){"use strict";var r,i;t.exports=(null===(r=n.g.process)||void 0===r?void 0:r.env)&&"object"===typeof(null===(i=n.g.process)||void 0===i?void 0:i.env)?n.g.process:n(7663)},1780:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(265)}])},2231:function(t,e,n){"use strict";n.d(e,{s1:function(){return m},aC:function(){return g},nb:function(){return y}});var r=n(4051),i=n.n(r),s=n(5893),o=n(7294),a=n(7702),u=n(8735),c=n(5321),l=n(6179);function h(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function o(t){h(s,r,i,o,a,"next",t)}function a(t){h(s,r,i,o,a,"throw",t)}o(void 0)}))}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=(0,o.createContext)({authUser:null,isLoading:!0,signOut:d(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))});function m(t){var e=t.children,n=function(){var t=(0,o.useState)(null),e=t[0],n=t[1],r=(0,o.useState)(!0),s=r[0],c=r[1],l=function(){n(null),c(!1)},h=function(){var t=d(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(!0),e){t.next=4;break}return l(),t.abrupt("return");case 4:return n({uid:e.uid,email:e.email}),t.next=7,v(e.uid,e.email);case 7:c(!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){var t=(0,a.Aj)(u.I,h);return function(){return t()}}),[]),{authUser:e,isLoading:s,signOut:function(){return(0,a.w7)(u.I).then(l)}}}();return(0,s.jsx)(p.Provider,{value:n,children:e})}var g=function(){return(0,o.useContext)(p)},y="Users";function v(t,e){return w.apply(this,arguments)}function w(){return(w=d(i().mark((function t(e,n){var r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,c.JU)(u.db,y,e),t.next=3,(0,c.QT)(r);case 3:if(t.sent.exists()){t.next=8;break}return t.next=8,(0,c.pl)(r,(f(s={uid:e,email:n},l.TO,l.TM),f(s,l.jJ,l.do),s));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},6179:function(t,e,n){"use strict";n.d(e,{TO:function(){return l},TM:function(){return h},jJ:function(){return d},do:function(){return f},Wb:function(){return p},nh:function(){return g}});var r=n(4051),i=n.n(r),s=n(5321),o=n(8735),a=n(2231);function u(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function o(t){u(s,r,i,o,a,"next",t)}function a(t){u(s,r,i,o,a,"throw",t)}o(void 0)}))}}var l="Expenses Categories",h=[{name:"Grocery",order:1,colour:"#B71C1C",isDeleted:!1,subCategories:[]},{name:"Eat Out",order:2,colour:"#EF5350",isDeleted:!1,subCategories:[]},{name:"Drink",order:3,colour:"#EF9A9A",isDeleted:!1,subCategories:[]},{name:"Transportation",order:4,colour:"#2196F3",isDeleted:!1,subCategories:[]},{name:"Driving",order:5,colour:"#0D47A1",isDeleted:!1,subCategories:[]},{name:"Shopping",order:6,colour:"#9C27B0",isDeleted:!1,subCategories:[]},{name:"Electronic",order:7,colour:"#81D4FA",isDeleted:!1,subCategories:[]},{name:"Misc",order:8,colour:"#B0BEC5",isDeleted:!1,subCategories:[]},{name:"Housing",order:9,colour:"#2E7D32",isDeleted:!1,subCategories:[]},{name:"Medical",order:10,colour:"#FFFFFF",isDeleted:!1,subCategories:[]},{name:"Beauty",order:11,colour:"#CE93D8",isDeleted:!1,subCategories:[]},{name:"Entertainment",order:12,colour:"#EF6C00",isDeleted:!1,subCategories:[]},{name:"Sports",order:13,colour:"#FFD54F",isDeleted:!1,subCategories:[]},{name:"Education",order:14,colour:"#795548",isDeleted:!1,subCategories:[]},{name:"Family",order:15,colour:"#8BC34A",isDeleted:!1,subCategories:[]},{name:"Friend",order:16,colour:"#4DD0E1",isDeleted:!1,subCategories:[]},{name:"Partner",order:17,colour:"#F06292",isDeleted:!1,subCategories:[]},{name:"Pet",order:18,colour:"#9E9D24",isDeleted:!1,subCategories:[]}],d="Incomes Categories",f=[{name:"Salary",order:1,colour:"#FFEB3B",isDeleted:!1,subCategories:[]},{name:"Earning",order:2,colour:"#F57F17",isDeleted:!1,subCategories:[]}];function p(t){return m.apply(this,arguments)}function m(){return(m=c(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.QT)((0,s.JU)(o.db,a.nb,e));case 2:return n=t.sent,r=n.data()[l],t.abrupt("return",r.filter((function(t){return!t.isDeleted})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return y.apply(this,arguments)}function y(){return(y=c(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.QT)((0,s.JU)(o.db,a.nb,e));case 2:return n=t.sent,r=n.data()[d],t.abrupt("return",r.filter((function(t){return!t.isDeleted})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},8735:function(t,e,n){"use strict";n.d(e,{I:function(){return a},db:function(){return u}});var r=n(4258);(0,r.registerVersion)("firebase","9.1.3","app");var i=n(7702),s=n(5321),o=(0,r.initializeApp)({apiKey:"AIzaSyAUPK2GVVBtexLn0l2yKjUdSFRqWyanoL0",authDomain:"budget-68766.firebaseapp.com",databaseURL:"https://budget-68766-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"budget-68766",storageBucket:"budget-68766.appspot.com",messagingSenderId:"830794565077",appId:"1:830794565077:web:9e295b83af4de873cae95c",measurementId:"G-SLRF6X599X"}),a=(0,i.v0)(o),u=(0,s.ad)(o)},265:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return I}});var r=n(5893),i=(n(4423),n(8257),n(7294)),s=n(7462),o=n(4819),a=n(6760);var u="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var c=function(t){const{children:e,theme:n}=t,c=(0,a.Z)(),l=i.useMemo((()=>{const t=null===c?n:function(t,e){if("function"===typeof e)return e(t);return(0,s.Z)({},t,e)}(c,n);return null!=t&&(t[u]=null!==c),t}),[n,c]);return(0,r.jsx)(o.Z.Provider,{value:l,children:e})},l=n(4880),h=n(6682);function d(t){const e=(0,h.Z)();return(0,r.jsx)(l.T.Provider,{value:"object"===typeof e?e:{},children:t.children})}var f=function(t){const{children:e,theme:n}=t;return(0,r.jsx)(c,{theme:n,children:(0,r.jsx)(d,{children:e})})},p=n(1265),m=n(1712),g=(0,p.Z)({palette:{primary:{main:m.primaryColor},secondary:{main:m.secondaryColor},tertiary:{main:m.tertiaryColor},success:{main:m.successColor},error:{main:m.errorColor}},components:{MuiButton:{styleOverrides:{textSecondary:{color:m.fontColor}}},MuiIconButton:{styleOverrides:{root:{height:"2em",width:"2em"}}},MuiInputBase:{styleOverrides:{input:{fontFamily:m.fontDefault}}},MuiInputLabel:{styleOverrides:{root:{fontFamily:m.fontDefault}}},MuiToolbar:{styleOverrides:{root:{"@media (min-width: 600px)":{padding:0}}}},MuiTypography:{styleOverrides:{root:{fontFamily:m.fontDefault},h1:{color:m.fontColor,fontSize:"84px",fontWeight:"400"},h2:{fontSize:"40px",fontWeight:"100",opacity:"60%"},h3:{fontFamily:m.fontTitle,fontSize:"24px"},h4:{color:m.fontColor,fontFamily:m.fontTitle,fontSize:"24px",fontWeight:"600"},h5:{color:m.fontColor,fontWeight:"200"},h6:{color:m.fontColor,fontWeight:"200",fontSize:"14px"}}}}}),y=n(9669),v=n(720),w=n(2231);function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){b(t,e,n[e])}))}return t}function I(t){var e=t.Component,n=t.pageProps;return(0,r.jsx)(v._,{dateAdapter:y.Z,children:(0,r.jsx)(w.s1,{children:(0,r.jsx)(f,{theme:g,children:(0,r.jsx)(e,T({},n))})})})}},1712:function(t){t.exports={primaryColor:"#fafafa",secondaryColor:"#1a73e8",tertiaryColor:"#1b3a57",successColor:"#00bfa5",errorColor:"#ff5252",fontColor:"#1b3a57",fontTitle:'"Google Sans Mono","Courier New",serif',fontDefault:'"Google Sans","Roboto",sans-serif'}},8257:function(){},4423:function(){},7663:function(t){!function(){var e={162:function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var a,u=[],c=!1,l=-1;function h(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&d())}function d(){if(!c){var t=o(h);c=!0;for(var e=u.length;e;){for(a=u,u=[];++l<e;)a&&a[l].run();l=-1,e=u.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||c||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var s=n[t]={exports:{}},o=!0;try{e[t](s,s.exports,r),o=!1}finally{o&&delete n[t]}return s.exports}r.ab="//";var i=r(162);t.exports=i}()},7462:function(t,e,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,{Z:function(){return r}})},3366:function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}n.d(e,{Z:function(){return r}})},7582:function(t,e,n){"use strict";n.d(e,{_T:function(){return r},mG:function(){return i},Jh:function(){return s},XA:function(){return o},CR:function(){return a},ev:function(){return u}});function r(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function i(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],(function(){return e(1780),e(880)}));var n=t.O();_N_E=n}]);